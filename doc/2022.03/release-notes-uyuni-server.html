<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.14">
<meta name="author" content="Version 2022.03">
<title>Release notes for Uyuni Server</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #ffffff; color: #404040; padding: 0; margin: 0; font-family: "Noto Serif", "DejaVu Serif", serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #00b2e2; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #0d2c40; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #02d35f; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; color: #00b2e2
}

strong, b { font-weight: bold; line-height: inherit; color: #0d2c40
}

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #5f5f5f; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #5f5f5f; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #262626; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #003258; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #a7a9ac; margin-bottom: 1.25em; padding: 1.25em; background: #f7f7f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 1px solid #5f5f5f; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Noto Serif", "DejaVu Serif", serif; font-size: 1rem; font-style: italic; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.21875em; line-height: 1.6; color: rgba(2, 164, 156, 0.85); }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 1em 1.25em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { word-spacing: 0; line-height: 1.6; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract p:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: -1.25em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd) { background: #f8f8f7; }

table.stripes-none tr, table.stripes-odd tr:nth-of-type(even) { background: none; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.625em -1.25em; }

ul.inline > li { margin-left: 1.25em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

dt, th.tableblock, td.content, div.footnote { text-rendering: optimizeLegibility; }

h1, h2, p, td.content, span.alt { letter-spacing: -0.01em; }

p strong, td.content strong, div.footnote strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content, span.alt { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@page { margin: 1.25cm 0.75cm; }

@media print { * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  html { font-size: 80%; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img, object, svg { page-break-inside: avoid; }
  thead { display: table-header-group; }
  svg { max-width: 100%; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #a7a9ac !important; padding-bottom: 0 !important; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { padding: 0 0.9375em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
@media print, amzn-kf8 { #header > h1:first-child { margin-top: 1.25rem; }
  .sect1 { padding: 0 !important; }
  .sect1 + .sect1 { border: 0; }
  #footer { background: none; }
  #footer-text { color: rgba(0, 0, 0, 0.6); font-size: 0.9em; } }
@media amzn-kf8 { #header, #content, #footnotes, #footer { padding: 0; } }

.fa-check { color: #0f0; }
.fa-times { color: #f00; }
.fa-question { color: #00f; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Release notes for Uyuni Server</h1>
<div class="details">
<span id="author" class="author">Version 2022.03</span><br>
<span id="revdate">2022-03-30 12:50:53 +0200</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_version_revision_history">Version Revision History</a></li>
<li><a href="#_stay_informed">Stay informed</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_release_model">Release model</a></li>
<li><a href="#_major_changes_since_uyuni_server_4_0_0">Major changes since Uyuni Server 4.0.0</a>
<ul class="sectlevel2">
<li><a href="#_features_and_changes">Features and changes</a>
<ul class="sectlevel3">
<li><a href="#_version_2022_03">Version 2022.03</a>
<ul class="sectlevel4">
<li><a href="#_fixes_for_salt_security_issues">Fixes for Salt security issues</a></li>
<li><a href="#_salt_upgrade">Salt Upgrade</a></li>
<li><a href="#_new_xml_rpc_api_version_26">New XML-RPC API version 26</a></li>
<li><a href="#_smdba_changed_defaults_for_newer_postgresql_versions">smdba: changed defaults for newer PostgreSQL versions</a></li>
<li><a href="#_monitoring_grafana_8_3_5">Monitoring: Grafana 8.3.5</a></li>
<li><a href="#_salt_ssh_now_uses_the_salt_bundle">Salt SSH now uses the Salt Bundle</a></li>
<li><a href="#_unsupported_products">Unsupported products</a></li>
</ul>
</li>
<li><a href="#_version_2022_02">Version 2022.02</a>
<ul class="sectlevel4">
<li><a href="#_postgresql_default_password_encryption_mechanism_change">PostgreSQL default password encryption mechanism change</a></li>
<li><a href="#_reporting_database">Reporting Database</a></li>
<li><a href="#_ubuntu_errata_installation">Ubuntu errata installation</a></li>
<li><a href="#_monitoring">Monitoring</a></li>
<li><a href="#_sles_payg_client_support_on_cloud">SLES PAYG client support on cloud</a></li>
<li><a href="#_openscap_for_debian_11_tech_preview">openscap for Debian 11 (Tech Preview)</a></li>
</ul>
</li>
<li><a href="#_version_2022_01">Version 2022.01</a>
<ul class="sectlevel4">
<li><a href="#_debian_11_as_client">Debian 11 as client</a></li>
<li><a href="#_link_to_vendor_security_advisory_in_patch_details_page">Link to vendor security advisory in Patch details page</a></li>
<li><a href="#_add_support_for_custom_ssh_port_for_ssh_minions">Add support for custom SSH port for SSH minions</a></li>
<li><a href="#_change_proxy_used_for_clients_from_the_webui">Change proxy used for clients from the WebUI</a></li>
</ul>
</li>
<li><a href="#_version_2021_12">Version 2021.12</a>
<ul class="sectlevel4">
<li><a href="#_salt_as_a_bundle">Salt as a Bundle</a></li>
<li><a href="#_aarch64_support_for_opensuse_leap_15_3_centos_78_clones_and_related_systems">aarch64 support for openSUSE Leap 15.3, CentOS 7/8, clones and related systems</a></li>
<li><a href="#_system_reactivation">System reactivation</a></li>
<li><a href="#_low_diskspace_notification">Low Diskspace notification</a></li>
<li><a href="#_package_locking_for_salt_minions">Package Locking for Salt Minions</a></li>
<li><a href="#_monitoring_2">Monitoring</a></li>
<li><a href="#_content_lifecycle_management_improvement">Content Lifecycle Management improvement</a></li>
<li><a href="#_new_xmlrpc_api_methods_for_saltkey">New XMLRPC API methods for SaltKey</a></li>
<li><a href="#_new_product_enabled">New product enabled</a></li>
<li><a href="#_cve_2021_40348_remediation">CVE-2021-40348 remediation</a></li>
<li><a href="#_centos_8_end_of_life">CentOS 8 End of Life</a></li>
<li><a href="#_future_deprecation_of_the_traditional_stack">Future deprecation of the traditional stack</a></li>
</ul>
</li>
<li><a href="#_version_2021_09">Version 2021.09</a>
<ul class="sectlevel4">
<li><a href="#_appstreams_webui_improvements">AppStreams WebUI improvements</a></li>
<li><a href="#_improve_the_date_time_handling_on_the_ui">Improve the date time handling on the UI</a></li>
<li><a href="#_support_syncing_patches_with_advisory_status_pending">Support syncing patches with advisory status 'pending'</a></li>
<li><a href="#_virtualization">Virtualization</a></li>
<li><a href="#_spacecmd_allow_massive_archive_and_delete_actions">spacecmd: allow massive archive and delete actions</a></li>
<li><a href="#_recent_cobbler_cves_remediation">Recent cobbler CVEs remediation</a></li>
</ul>
</li>
<li><a href="#_version_2021_08">Version 2021.08</a>
<ul class="sectlevel4">
<li><a href="#_rocky_linux_8_as_client">Rocky Linux 8 as client</a></li>
<li><a href="#_ansible_playbooks_test_mode">Ansible Playbooks test mode</a></li>
<li><a href="#_kiwi_parameters_for_os_image_profiles">Kiwi parameters for OS Image profiles</a></li>
<li><a href="#_fixes_for_aarch64_hosts_including_virtualization">Fixes for AArch64 hosts, including virtualization</a></li>
<li><a href="#_virtual_machines_and_uefi">Virtual Machines and UEFI</a></li>
<li><a href="#_pacemaker_support_for_kvm_and_xen_virtual_machines">Pacemaker support for KVM and Xen virtual machines</a></li>
<li><a href="#_new_clm_filter_template">New CLM Filter Template</a></li>
<li><a href="#_openscap_audit">OpenSCAP Audit</a></li>
<li><a href="#_logs_for_salt_ssh_clients">Logs for Salt SSH clients</a></li>
<li><a href="#_tech_preview_inter_server_synchronization_version_2">Tech-preview:  Inter-Server Synchronization version 2</a></li>
<li><a href="#_monitoring_3">Monitoring</a></li>
</ul>
</li>
<li><a href="#_version_2021_06">Version 2021.06</a>
<ul class="sectlevel4">
<li><a href="#_upgrade_notes">Upgrade notes</a></li>
<li><a href="#_salt_3002">Salt 3002</a></li>
<li><a href="#_base_system_upgrade">Base System Upgrade</a></li>
<li><a href="#_postgresql_13">PostgreSQL 13</a></li>
<li><a href="#_missing_opensuse_leap_15_3_channels_added_to_spacewalk_common_channels">Missing openSUSE Leap 15.3 channels added to spacewalk-common-channels</a></li>
<li><a href="#_integration_of_ansible_into_an_uyuni_automation_environment_to_protect_customer_investment_and_ease_migration_technology_preview">Integration of Ansible into an Uyuni automation environment to protect customer investment and ease migration (Technology Preview)</a></li>
</ul>
</li>
<li><a href="#_version_2021_05">Version 2021.05</a>
<ul class="sectlevel4">
<li><a href="#_new_products_enabled">New products enabled</a></li>
<li><a href="#_sle_micro_5_0_and_opensuse_microos_as_clients">SLE Micro 5.0 and openSUSE MicroOS as clients</a></li>
<li><a href="#_deprecated_products">Deprecated products</a></li>
<li><a href="#_prometheus_tls">Prometheus TLS</a></li>
<li><a href="#_updated_prometheus">Updated Prometheus</a></li>
<li><a href="#_migrate_clients_from_opensuse_leap_to_suse_linux_enterprise_server">Migrate clients from openSUSE Leap to SUSE Linux Enterprise Server</a></li>
<li><a href="#_easier_system_group_and_configuration_channel_assignment">Easier system group and configuration channel assignment</a></li>
<li><a href="#_enhanced_clm_filter_list">Enhanced CLM filter list</a></li>
<li><a href="#_notify_beacon_for_deb_based_clients">Notify beacon for DEB-based clients</a></li>
<li><a href="#_allow_setting_primary_fqdn_for_the_systems">Allow setting primary FQDN for the systems</a></li>
<li><a href="#_virtualization_2">Virtualization</a></li>
<li><a href="#_custom_data_as_pillar">Custom data as pillar</a></li>
<li><a href="#_retracted_patches">Retracted patches</a></li>
<li><a href="#_client_systems_forwarded_to_suse_customer_center">Client systems forwarded to SUSE Customer Center</a></li>
<li><a href="#_configuration_state_summary">Configuration state summary</a></li>
<li><a href="#_live_patching_made_easy_with_filter_templates">Live patching made easy with filter templates</a></li>
<li><a href="#_html_documentation_for_the_api">HTML documentation for the API</a></li>
<li><a href="#_new_api_calls">New API calls</a></li>
<li><a href="#_spacecmd_improvements">spacecmd improvements</a></li>
<li><a href="#_activation_key_dropped_from_system_details">Activation key dropped from system details</a></li>
<li><a href="#_software_crashes_abrt_dropped">Software Crashes (ABRT) dropped</a></li>
<li><a href="#_warning_about_ansible_integration">Warning about Ansible integration</a></li>
</ul>
</li>
<li><a href="#_version_2021_04">Version 2021.04</a>
<ul class="sectlevel4">
<li><a href="#_vendor_change_for_some_java_dependencies">Vendor change for some Java dependencies</a></li>
<li><a href="#_fix_for_potential_security_issue_with_java_rmi">Fix for potential security issue with Java RMI</a></li>
<li><a href="#_new_products_enabled_2">New products enabled</a></li>
<li><a href="#_amazon_linux_2_and_alibaba_linux_2_clients">Amazon Linux 2 and Alibaba Linux 2 clients</a></li>
<li><a href="#_almalinux_8">AlmaLinux 8</a></li>
<li><a href="#_maintenance_windows_ui">Maintenance Windows UI</a></li>
<li><a href="#_removal_of_deprecated_xmlrpc_api_methods">Removal of deprecated XMLRPC API methods</a></li>
<li><a href="#_reactivation_keys_in_bootstrap_scripts">Reactivation keys in bootstrap scripts</a></li>
<li><a href="#_enable_san_ssl_certificates">Enable SAN SSL certificates</a></li>
<li><a href="#_universe_security_multiverse_restricted_and_backport_channels_for_ubuntu">Universe Security, Multiverse, Restricted, and Backport channels for Ubuntu.</a></li>
<li><a href="#_oracle_linux_uek_channel">Oracle Linux UEK channel</a></li>
<li><a href="#_performance_improvements">Performance improvements</a></li>
<li><a href="#_redfish_power_management">Redfish power management</a></li>
<li><a href="#_openscap_from_ssm">OpenSCAP from SSM</a></li>
<li><a href="#_virtual_network_creation_ui">Virtual network creation UI</a></li>
<li><a href="#_logging">Logging</a></li>
<li><a href="#_monitoring_4">Monitoring</a></li>
</ul>
</li>
<li><a href="#_version_2021_02">Version 2021.02</a>
<ul class="sectlevel4">
<li><a href="#_recent_salt_cves_remediation">Recent Salt CVEs remediation</a></li>
<li><a href="#_prometheus_exporters_reverse_proxy_formula_ubuntu_support">Prometheus exporters' reverse proxy formula Ubuntu support</a></li>
</ul>
</li>
<li><a href="#_version_2021_01">Version 2021.01</a>
<ul class="sectlevel4">
<li><a href="#_vendor_change_for_some_java_dependencies_2">Vendor change for some Java dependencies</a></li>
<li><a href="#_fix_version_comparison_algorithm_for_deb_packages_ubuntu">Fix version comparison algorithm for deb packages (Ubuntu)</a></li>
<li><a href="#_new_products_enabled_3">New products enabled</a></li>
<li><a href="#_sap_content">SAP content</a></li>
<li><a href="#_cpu_mitigations_formula">CPU mitigations formula</a></li>
<li><a href="#_vendor_change_on_sp_migration">Vendor change on SP migration</a></li>
<li><a href="#_autoinstallation_of_older_operating_systems">Autoinstallation of older operating systems</a></li>
<li><a href="#_oracle_linux_uln_repositories">Oracle Linux ULN repositories</a></li>
<li><a href="#_centos_6_repositories">CentOS 6 repositories</a></li>
<li><a href="#_new_countries_and_timezones">New countries and timezones</a></li>
<li><a href="#_cluster_management_upgrade_plan">Cluster management: upgrade plan</a></li>
<li><a href="#_yomi_refresh">Yomi refresh</a></li>
<li><a href="#_uyuni_server_connections_are_always_and_only_secure">Uyuni Server connections are always and only secure</a></li>
<li><a href="#_monitoring_updates">Monitoring updates</a></li>
</ul>
</li>
<li><a href="#_version_2020_11">Version 2020.11</a>
<ul class="sectlevel4">
<li><a href="#_recent_salt_cves_remediation_2">Recent Salt CVEs remediation</a></li>
<li><a href="#_centos_78_ppc64le_support">CentOS 7/8 ppc64le support</a></li>
<li><a href="#_prometheus_exporter_exporter_for_centos_oracle_and_rhel_7_and_8">Prometheus Exporter Exporter for CentOS, Oracle and RHEL 7 and 8</a></li>
<li><a href="#_node_exporter_updated_to_version_1_0_1_for_most_operating_systems">Node Exporter updated to version 1.0.1 for most operating systems</a></li>
<li><a href="#_web_ui_themes">Web UI themes</a></li>
<li><a href="#_prometheus_exporter_exporter">Prometheus Exporter Exporter</a></li>
<li><a href="#_xml_rpc_power_management_api">XML-RPC power management API</a></li>
<li><a href="#_third_party_errata_information_on_vendor_channels">Third-party errata information on vendor channels</a></li>
<li><a href="#_bootstrap_repositories_no_longer_flushed_by_default">Bootstrap repositories no longer flushed by default</a></li>
<li><a href="#_dnssec_enabled_by_default_by_bind_update">DNSSEC enabled by default by bind update</a></li>
<li><a href="#_virtualization_creation_of_virtual_machines_with_yomi_kickstart_or_autoyast_profiles">Virtualization: Creation of virtual machines with Yomi, KickStart or AutoYaST profiles</a></li>
<li><a href="#_japanese_translation">Japanese translation</a></li>
</ul>
</li>
<li><a href="#_version_2020_09">Version 2020.09</a>
<ul class="sectlevel4">
<li><a href="#_uyuni_hub_xml_rpc_api_is_now_supported">Uyuni Hub XML-RPC API is now supported</a></li>
<li><a href="#_formula_for_peripheral_server_management_technology_preview">Formula for peripheral server management (Technology Preview)</a></li>
<li><a href="#_maintenance_windows">Maintenance windows</a></li>
<li><a href="#_monitoring_reverse_proxies">Monitoring reverse proxies</a></li>
<li><a href="#_added_new_type_of_virtual_host_manager_nutanix_ahv">Added new type of "Virtual Host Manager": Nutanix AHV</a></li>
<li><a href="#_grafana_7_1_5">Grafana 7.1.5</a></li>
<li><a href="#_new_products_enabled_4">New products enabled</a></li>
</ul>
</li>
<li><a href="#_version_2020_07">Version 2020.07</a>
<ul class="sectlevel4">
<li><a href="#_upgrade_notes_2">Upgrade notes</a></li>
<li><a href="#_salt_3000_0">Salt 3000.0</a></li>
<li><a href="#_new_mgrcompat_module_run_custom_compatibility_state_for_salt_is_available_for_registered_systems">New "mgrcompat.module_run" custom compatibility state for Salt is available for registered systems.</a></li>
<li><a href="#_postgresql_12">PostgreSQL 12</a></li>
<li><a href="#_base_system_upgrade_2">Base System Upgrade</a></li>
<li><a href="#_new_products_enabled_5">New products enabled</a></li>
<li><a href="#_ubuntu_20_04_lts">Ubuntu 20.04 LTS</a></li>
<li><a href="#_hwdata_vendor_change_for_opensuse_leap_15_1_clients">hwdata vendor change for openSUSE Leap 15.1 clients</a></li>
</ul>
</li>
<li><a href="#_version_2020_06">Version 2020.06</a>
<ul class="sectlevel4">
<li><a href="#_oracle_linux">Oracle Linux</a></li>
<li><a href="#_third_party_gpg_keys_now_included">Third-party GPG keys now included</a></li>
<li><a href="#_cluster_management">Cluster Management</a></li>
<li><a href="#_dropped_feature_unpublished_patches">Dropped feature: Unpublished patches</a></li>
</ul>
</li>
<li><a href="#_version_2020_05">Version 2020.05</a>
<ul class="sectlevel4">
<li><a href="#_repository_syncing_performance_improvements">Repository syncing performance improvements</a></li>
<li><a href="#_image_profiles_key_value_pairs_supported_as_arguments_for_docker_build">Image profiles key-value pairs supported as arguments for Docker build</a></li>
<li><a href="#_service_pack_migrations_run_a_real_migration_after_a_successful_dry_run">Service pack migrations: run a real migration after a successful dry-run</a></li>
</ul>
</li>
<li><a href="#_version_2020_04">Version 2020.04</a>
<ul class="sectlevel4">
<li><a href="#_recurring_actions">Recurring actions</a></li>
<li><a href="#_bootstrapping_salt_clients_with_a_private_ssh_key_from_api">Bootstrapping Salt Clients with a Private SSH key (from API)</a></li>
<li><a href="#_centos8_content_lifecycle_management_better_feedback_with_appstreams">CentOS8 Content Lifecycle Management: Better Feedback with Appstreams</a></li>
<li><a href="#_automated_schema_database_upgrades_and_failure_security_mechanism">Automated Schema Database Upgrades and Failure Security Mechanism</a></li>
<li><a href="#_large_deployments_guide_draft">Large Deployments Guide (draft)</a></li>
<li><a href="#_uyuni_hub_documentation">Uyuni Hub documentation</a></li>
<li><a href="#_public_cloud_quickstart_guide_draft">Public Cloud QuickStart Guide (draft)</a></li>
<li><a href="#_caasp_grafana_dashboads">CaaSP Grafana Dashboads</a></li>
<li><a href="#_prometheus_federation_support_in_formulas_with_forms">Prometheus Federation Support in Formulas with Forms</a></li>
<li><a href="#_pre_configured_default_alerting_rules">Pre-configured default alerting rules</a></li>
<li><a href="#_prometheus_exporters_for_centos8_x86_64">Prometheus Exporters for CentOS8 x86_64</a></li>
<li><a href="#_node_exporter_updated_to_0_18_1">Node Exporter Updated to 0.18.1</a></li>
<li><a href="#_virtualization_management_of_storage_pools">Virtualization: Management of storage pools</a></li>
</ul>
</li>
<li><a href="#_version_2020_03">Version 2020.03</a>
<ul class="sectlevel4">
<li><a href="#_debian_client_tools">Debian client tools</a></li>
<li><a href="#_suse_container_as_a_service_platform_v4_nodes_action_filtering">SUSE Container as a Service Platform v4 nodes: action filtering</a></li>
<li><a href="#_subscription_matching_in_public_cloud_byos_vs_payg">Subscription matching in public cloud: BYOS vs PAYG</a></li>
<li><a href="#_automatic_generation_of_bootstrap_repositories">Automatic generation of bootstrap repositories</a></li>
<li><a href="#_salt_clients_provisioning_api">Salt clients: provisioning API</a></li>
<li><a href="#_recurring_highstate_scheduling">Recurring highstate scheduling</a></li>
<li><a href="#_content_lifecycle_filters_for_appstreams">Content Lifecycle Filters for AppStreams</a></li>
<li><a href="#_new_products_enabled_6">New products enabled</a></li>
<li><a href="#_ubuntu_enhancements">Ubuntu enhancements</a></li>
<li><a href="#_yomi_technology_preview">Yomi (Technology Preview)</a></li>
<li><a href="#_uyuni_hub_xml_rpc_api_technology_preview">Uyuni Hub XML-RPC API (Technology Preview)</a></li>
<li><a href="#_spacewalk_utils">spacewalk-utils</a></li>
<li><a href="#_efi_http_booting">EFI HTTP booting</a></li>
<li><a href="#_subscription_matching_enhancements">Subscription matching enhancements</a></li>
<li><a href="#_single_sign_on_sso_is_now_stable">Single Sign-On (SSO) is now stable</a></li>
<li><a href="#_single_page_application_ui_spa_is_now_stable">Single Page Application UI (SPA) is now stable</a></li>
<li><a href="#_red_hat_enterprise_linux_8_onboarding_simplified">Red Hat Enterprise Linux 8 onboarding simplified</a></li>
</ul>
</li>
<li><a href="#_version_2020_01">Version 2020.01</a>
<ul class="sectlevel4">
<li><a href="#_version_format_change">Version format change</a></li>
<li><a href="#_adjust_your_repository_at_the_server_system">Adjust your repository at the Server system</a></li>
<li><a href="#_remove_current_uyuni_proxy_4_0_channel_and_repository_from_the_server_and_add_the_new_ones">Remove current Uyuni Proxy 4.0 channel and repository from the Server and add the new ones</a></li>
<li><a href="#_remove_current_uyuni_server_4_0_channel_and_repository_from_the_server_and_add_the_new_ones">Remove current Uyuni Server 4.0 channel and repository from the Server and add the new ones</a></li>
<li><a href="#_centos8_rhel_8_and_sles_es_8_support">CentOS8, RHEL 8 and SLES ES 8 support</a></li>
<li><a href="#_monitoring_5">Monitoring</a></li>
<li><a href="#_package_hub">Package Hub</a></li>
<li><a href="#_formulas_2">Formulas</a></li>
<li><a href="#_new_content_lifecycle_management_filters">New Content Lifecycle Management filters</a></li>
<li><a href="#_enhanced_support_for_debian_and_ubuntu">Enhanced support for Debian and Ubuntu</a></li>
<li><a href="#_new_prometheus_exporters_and_formulas">New Prometheus exporters and formulas</a></li>
<li><a href="#_subscription_matching_in_public_cloud">Subscription matching in Public Cloud</a></li>
<li><a href="#_preventive_shutdown_of_server_when_running_out_of_disk_space">Preventive shutdown of Server when running out of disk space</a></li>
<li><a href="#_single_page_application_ui">Single Page Application UI</a></li>
<li><a href="#_grafana_2">Grafana</a></li>
<li><a href="#_prometheus_service_autodiscovery">Prometheus service autodiscovery</a></li>
<li><a href="#_cpu_mitigation_formula">CPU mitigation formula</a></li>
<li><a href="#_updated_documentation">Updated documentation</a></li>
<li><a href="#_enhanced_support_for_ubuntu_and_debian_clients">Enhanced support for Ubuntu and Debian clients</a></li>
<li><a href="#_new_products_enabled_from_scc">New products enabled (from SCC)</a></li>
<li><a href="#_suse_container_as_a_service_platform_v4_support">SUSE Container as a Service Platform v4 support</a></li>
<li><a href="#_other_changes">Other changes</a></li>
</ul>
</li>
<li><a href="#_version_4_0_2">Version 4.0.2</a>
<ul class="sectlevel4">
<li><a href="#_migrating_the_server_from_4_0_1_to_4_0_2">Migrating the Server from 4.0.1 to 4.0.2</a></li>
<li><a href="#_salt_2019_2_0">Salt 2019.2.0</a></li>
<li><a href="#_base_system_upgrade_3">Base system upgrade</a></li>
<li><a href="#_prometheus_monitoring">Prometheus Monitoring</a></li>
<li><a href="#_content_lifecycle_management">Content lifecycle management</a></li>
<li><a href="#_virtualization_management_for_salt_minions">Virtualization management for Salt minions</a></li>
<li><a href="#_updated_documentation_structure">Updated Documentation Structure</a></li>
<li><a href="#_improved_logging_for_salt_remote_command_page">Improved logging for Salt Remote Command Page</a></li>
<li><a href="#_support_for_more_distributions_as_clients">Support for more Distributions as Clients</a></li>
<li><a href="#_eol_for_opensuse_leap_42_3_clients">EoL for openSUSE Leap 42.3 clients</a></li>
<li><a href="#_salt_rate_limiting_batching">Salt Rate Limiting (Batching)</a></li>
<li><a href="#_product_information_loaded_from_scc">Product Information Loaded from SCC</a></li>
<li><a href="#_image_build_host_with_sles_12_sp4">Image build host with SLES 12 SP4</a></li>
<li><a href="#_updated_backend_for_communicating_with_scc">Updated backend for communicating with SCC</a></li>
<li><a href="#_xmlrpc_api_changes">XMLRPC API changes</a></li>
<li><a href="#_support_for_ubuntu_clients">Support for Ubuntu Clients</a></li>
<li><a href="#_change_behavior_on_token_refresh">Change behavior on token refresh</a></li>
<li><a href="#_new_option_to_force_regeneration_of_channel_metadata">New option to force regeneration of channel metadata</a></li>
<li><a href="#_new_products_supported">New products supported</a></li>
<li><a href="#_package_download_endpoint_override">Package download endpoint override</a></li>
<li><a href="#_technical_preview_single_sign_on_sso">Technical preview: Single Sign-On (SSO)</a></li>
</ul>
</li>
<li><a href="#_version_4_0_1">Version 4.0.1</a>
<ul class="sectlevel4">
<li><a href="#_support_for_postgresql_10">Support for PostgreSQL 10</a></li>
<li><a href="#_migrating_from_postgresql_9_6_to_postgresql_10">Migrating from PostgreSQL 9.6 to PostgreSQL 10</a></li>
<li><a href="#_spacecmd_support_state_channels">spacecmd: Support state channels</a></li>
<li><a href="#_new_api_calls_2">New API calls</a></li>
<li><a href="#_spacewalk_common_channels_support_for_uyuni_fedora_29_and_cleanup">spacewalk-common-channels: Support for Uyuni, Fedora 29 and cleanup</a></li>
<li><a href="#_support_for_more_distributions_as_clients_2">Support for more Distributions as Clients</a></li>
<li><a href="#_new_products_added_to_scc_syncing">New products added to SCC syncing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_known_issues">Known issues</a>
<ul class="sectlevel2">
<li><a href="#_single_sign_on_api_and_cli_tools">Single Sign On, API and CLI tools</a></li>
<li><a href="#_epel_and_salt_packages">EPEL and Salt packages</a></li>
<li><a href="#_rhel_6_centos_6_and_oracle_linux_6_minimal_installations">RHEL 6, CentOS 6 and Oracle Linux 6 minimal installations</a></li>
<li><a href="#_rhel_native_clients">RHEL native clients</a></li>
<li><a href="#_registering_spacewalk_2_xred_hat_satellite_5_x_clients_to_uyuni_as_salt_minions">Registering Spacewalk 2.x/Red Hat Satellite 5.x clients to Uyuni as Salt minions</a></li>
<li><a href="#_centos">CentOS</a></li>
</ul>
</li>
<li><a href="#_client_tools_notes">Client Tools Notes</a>
<ul class="sectlevel2">
<li><a href="#_supported_clients">Supported clients</a></li>
<li><a href="#_untested_clients">Untested clients</a></li>
<li><a href="#_known_limitations">Known limitations</a>
<ul class="sectlevel3">
<li><a href="#_spacewalkminion_script_autoinstallation_snippet_does_not_work_with_salt_bundle">"spacewalk/minion_script" Autoinstallation snippet does not work with Salt bundle</a></li>
<li><a href="#_uyuni_client_tools_gpg_not_trusted_by_the_clients">Uyuni Client Tools GPG not trusted by the clients</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_documentation">Documentation</a></li>
<li><a href="#_installation">Installation</a>
<ul class="sectlevel2">
<li><a href="#_requirements">Requirements</a></li>
<li><a href="#_installing_the_server">Installing the Server</a></li>
<li><a href="#_update_from_previous_versions_of_uyuni_server">Update from previous versions of Uyuni Server</a></li>
<li><a href="#_update_from_previous_versions_of_uyuni_proxy">Update from previous versions of Uyuni Proxy</a></li>
</ul>
</li>
<li><a href="#_other_information">Other information</a>
<ul class="sectlevel2">
<li><a href="#_red_hat_channels">Red Hat Channels</a></li>
<li><a href="#_suse_channels">SUSE Channels</a></li>
</ul>
</li>
<li><a href="#_providing_feedback">Providing feedback</a></li>
<li><a href="#_legal_notices">Legal Notices</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_version_revision_history">Version Revision History</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>2022/03/31: 2022.03 release</p>
</li>
<li>
<p>2022/02/28: 2022.02 release</p>
</li>
<li>
<p>2022/01/28: 2022.01 release</p>
</li>
<li>
<p>2021/12/09: 2021.12 release</p>
</li>
<li>
<p>2021/09/23: 2021.09 release</p>
</li>
<li>
<p>2021/08/16: 2021.08 release</p>
</li>
<li>
<p>2021/06/24: 2021.06 release</p>
</li>
<li>
<p>2021/05/18: 2021.05 release</p>
</li>
<li>
<p>2021/04/21: 2021.04 release</p>
</li>
<li>
<p>2021/03/01: 2021.02 release</p>
</li>
<li>
<p>2021/02/05: 2021.01 release</p>
</li>
<li>
<p>2020/11/26: 2020.11 release</p>
</li>
<li>
<p>2020/09/22: 2020.09 release</p>
</li>
<li>
<p>2020/07/24: 2020.07 release</p>
</li>
<li>
<p>2020/06/15: 2020.06 release</p>
</li>
<li>
<p>2020/05/21: 2020.05 release</p>
</li>
<li>
<p>2020/04/16: 2020.04 release</p>
</li>
<li>
<p>2020/03/19: 2020.03 release</p>
</li>
<li>
<p>2020/01/31: 2020.01 release</p>
</li>
<li>
<p>2019/08/02: 4.0.2 release</p>
</li>
<li>
<p>2018/12/19: 4.0.1 release</p>
</li>
<li>
<p>2018/10/26: 4.0.0 release</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stay_informed">Stay informed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can stay up-to-date regarding information about Uyuni:</p>
</div>
<div class="paragraph">
<p>Check the home site <a href="https://www.uyuni-project.org" class="bare">https://www.uyuni-project.org</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_support">Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Uyuni is a community-supported project. The ways of contacting the community are available at the home site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_model">Release model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Uyuni uses a rolling release model (meaning there will be no bugfixing for given Uyuni version, but new frequent versions that will include bugfixes and features)</p>
</div>
<div class="paragraph">
<p>Check the home site get in contact with the community.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_major_changes_since_uyuni_server_4_0_0">Major changes since Uyuni Server 4.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_features_and_changes">Features and changes</h3>
<div class="sect3">
<h4 id="_version_2022_03">Version 2022.03</h4>
<div class="sect4">
<h5 id="_fixes_for_salt_security_issues">Fixes for Salt security issues</h5>
<div class="paragraph">
<p>Fixes for the following security issues have been released: <a href="https://saltproject.io/security_announcements/salt-security-advisory-release/">CVE-2022-22934, CVE-2022-22935, CVE-2022-22936, CVE-2022-22941</a>.</p>
</div>
<div class="paragraph">
<p>You should patch your Salt master at the Uyuni Server and minions as soon as possible. Please take the next section into account when upgrading the Salt.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_upgrade">Salt Upgrade</h5>
<div class="paragraph">
<p>To properly upgrade Salt with the fixes for the latest CVEs, and avoid breaking the communication between for Salt master and minion, you need to upgrade your "salt-master" first and then continue upgrading your Salt minions.</p>
</div>
<div class="paragraph">
<p>In case that a Salt minion is upgraded with the CVE fixes but your Salt master is not, then the communication between the master and this minion will be broken, and you would see errors like the following in your minion logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>2022-03-28 13:19:41,880 [salt.crypt       :743 ][ERROR   ][15942] Sign-in attempt failed: {'publish_port': 4505, 'pub_key': '-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----\n''enc': 'pub','sig': ".."}
2022-03-28 13:19:41,885 [salt.minion      :1056][ERROR   ][15942] Error while bringing up minion for multi-master. Is master at salt-master-server.tf.local responding?</code></pre>
</div>
</div>
<div class="paragraph">
<p>As soon as your Salt master is upgraded and restarted then the communication between master and minion will be restablished and the errors messages will not longer happen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_xml_rpc_api_version_26">New XML-RPC API version 26</h5>
<div class="paragraph">
<p>Uyuni 2022.03 updates the XML-RPC API version from 25 to 26, in preparation for SUSE Manager 4.3</p>
</div>
<div class="paragraph">
<p>There are no breaking changes to any methods.</p>
</div>
<div class="paragraph">
<p>If any of your scripts are checking for the version 25, you can change them to use version 26 without any further changes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_smdba_changed_defaults_for_newer_postgresql_versions">smdba: changed defaults for newer PostgreSQL versions</h5>
<div class="paragraph">
<p>Starting with PostgreSQL 13, some defaults have changed.</p>
</div>
<div class="paragraph">
<p>To improve performance, smdba autotuning was adapted to use the new values.</p>
</div>
<div class="paragraph">
<p>Additionally an extra paramater <code>--ssd</code> was added to autotuning to tell smdba that the database is stored on ssd or fast network storage.</p>
</div>
<div class="paragraph">
<p>To change an existing configuration with the new defaults call</p>
</div>
<div class="literalblock">
<div class="content">
<pre>smdba system-check autotuning</pre>
</div>
</div>
<div class="paragraph">
<p>Remember you can also adjust some other parameters, in case you need them:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>smdba system-check autotuning [--max_connections=&lt;number&gt;] [--ssd]</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_grafana_8_3_5">Monitoring: Grafana 8.3.5</h5>
<div class="paragraph">
<p>Uyuni 2022.03 updates Grafana from version 7.5.12 to 8.3.5.</p>
</div>
<div class="paragraph">
<p>This update fixes several security vulnerabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XSS vulnerability in handling data sources (CVE-2022-21702)</p>
</li>
<li>
<p>Cross-origin request forgery vulnerability (CVE-2022-21703)</p>
</li>
<li>
<p>Insecure Direct Object Reference vulnerability in Teams API (CVE-2022-21713)</p>
</li>
<li>
<p>GetUserInfo: return an error if no user was found (CVE-2022-21673)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Updating Grafana is strongly recommended.</p>
</div>
<div class="paragraph">
<p>Relevant changes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New Alerting for Grafana 8</p>
</li>
<li>
<p>CloudWatch: Add support for AWS Metric Insights</p>
</li>
<li>
<p>CloudWatch: Add AWS RoboMaker metrics and dimension</p>
</li>
<li>
<p>CloudWatch: Add AWS Transfer metrics and dimension</p>
</li>
<li>
<p>CloudWatch: Add AWS LookoutMetrics</p>
</li>
<li>
<p>CloudWatch: Add Lambda@Edge Amazon CloudFront metrics</p>
</li>
<li>
<p>CloudMonitoring: Add support for preprocessing</p>
</li>
<li>
<p>CloudWatch: Add AWS/EFS StorageBytes metric</p>
</li>
<li>
<p>CloudWatch: Add Amplify Console metrics and dimensions</p>
</li>
<li>
<p>CloudWatch: Add metrics for managed RabbitMQ service</p>
</li>
<li>
<p>Elasticsearch: Add support for Elasticsearch 8.0</p>
</li>
<li>
<p>AzureMonitor: Add support for PostgreSQL and MySQL Flexible Servers</p>
</li>
<li>
<p>AzureMonitor: Add Azure Resource Graph</p>
</li>
<li>
<p>AzureMonitor: Add support for Microsoft.SignalRService/SignalR metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check the <a href="https://grafana.com/docs/grafana/latest/release-notes/">upstream changelog</a> for more details on what has changed.</p>
</div>
<div class="paragraph">
<p>There is one breaking change:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Grafana 8 Alerting enabled by default for installations that do not use legacy alerting.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Uyuni does not use Grafana alerting, so if you do not need it, you can disable it at the Grafana WebUI.</p>
</div>
<div class="paragraph">
<p>If you use legacy Grafana alerting in your environment, consider migrating to new Grafana 8 alerting.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_ssh_now_uses_the_salt_bundle">Salt SSH now uses the Salt Bundle</h5>
<div class="paragraph">
<p>The Salt Bundle is now used to handle Salt SSH executions on the client side. The bootstrap of new Salt clients using webUI or API is now also using the Salt Bundle.</p>
</div>
<div class="paragraph">
<p>To ensure bootstrap works in the proper way, the bootstrap repositories for the clients must be regenerated before bootstrapping new clients.</p>
</div>
<div class="paragraph">
<p>The bootstrap repository regeneration happens for any given product when a resync for the product repositories happens:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For products provided by the SUSE Customer Center, added via de Setup Wizard or <code>mgr-sync</code>, this happens each night.</p>
</li>
<li>
<p>For products added via <code>spacewalk-common-channels</code> there is no automated resync by default, unless it was configured after adding the product. In this case, the regeneration needs to be trigger manually.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To manually trigger the regeneration, use the tool <code>mgr-create-bootstrap-repo</code> at the Uyuni Server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_unsupported_products">Unsupported products</h5>
<div class="ulist">
<ul>
<li>
<p>Red Hat Enterprise Linux 6</p>
</li>
<li>
<p>SUSE Linux Enterprise Server Expanded Support 6</p>
</li>
<li>
<p>Oracle Linux 6</p>
</li>
<li>
<p>CentOS 6</p>
</li>
<li>
<p>CentOS 8</p>
</li>
<li>
<p>Ubuntu 16.04</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We highly encourage you to migrate your workload to a newer version of each distribution, or to an alternative distribution that is still supported, so you can continue managing your infrastructure with Uyuni.</p>
</div>
<div class="paragraph">
<p>Please note that we will not break things on purpose for these unsupported products, and there is a possibility that they could still continue to work. But if things break, there will not be any support provided, not even on a best-effort basis, unless someone from the community can step in.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2022_02">Version 2022.02</h4>
<div class="sect4">
<h5 id="_postgresql_default_password_encryption_mechanism_change">PostgreSQL default password encryption mechanism change</h5>
<div class="paragraph">
<p>PostgresSQL is changing its default password encryption mechanism from md5 to scram-sha-256.</p>
</div>
<div class="paragraph">
<p>With this update Uyuni will follow this change and will migrate the database user to this new encryption mechanism.</p>
</div>
<div class="paragraph">
<p>This should happen fully automated for the existing database user.</p>
</div>
<div class="paragraph">
<p>The following changes will happen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At the <code>/var/lib/pgsql/data/postgresql.conf</code> file, <code>password_encryption = scram-sha-256</code> will be set.</p>
</li>
<li>
<p>The password for the user specified in the file <code>/etc/rhn/rhn.conf</code> will be reset.</p>
</li>
<li>
<p>At the <code>/var/lib/pgsql/data/ph_hba.conf</code> file, all mechanisms which are set to <code>md5</code> will be changed to <code>scram-sha-256</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In case additional users where created, the passwords must be reseted.</p>
</div>
<div class="paragraph">
<p>This can be done with the following command on the Uyuni Server executed as "root" user, and exchanging`&lt;DBUSER&gt;` with the right username and <code>&lt;DBPASSWD&gt;</code> with the new password:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>runuser - postgres -c "echo \"ALTER USER &lt;DBUSER&gt; WITH PASSWORD '&lt;DBPASSWD&gt;';\" | psql"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_reporting_database">Reporting Database</h5>
<div class="paragraph">
<p>The reporting database provides Uyuni data used for reports in a simplified schema, and is accessible by any reporting tool with support for SQL databases as content sources.</p>
</div>
<div class="paragraph">
<p>This new database is isolated from the one used for the Uyuni Server, and created automatically.</p>
</div>
<div class="paragraph">
<p>The <code>uyuni-setup-reportdb-user</code> command can create new users which have access to the data.</p>
</div>
<div class="paragraph">
<p>For more information on this topic, see <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/specialized-guides/large-deployments/hub-reporting.html">Hub reporting</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ubuntu_errata_installation">Ubuntu errata installation</h5>
<div class="paragraph">
<p>Uyuni now comes with Ubuntu errata support. It does this by downloading errata information from <a href="https://usn.ubuntu.com/usn-db/database.json" class="bare">https://usn.ubuntu.com/usn-db/database.json</a> and matching it after the syncing of Ubuntu channels.</p>
</div>
<div class="paragraph">
<p>It also adds support for installing errata on Ubuntu systems by mapping them to package installs.</p>
</div>
<div class="paragraph">
<p>For users, it will be a seamless experience and they will get exactly the same UX as it was for errata management for other distros.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring">Monitoring</h5>
<div class="sect5">
<h6 id="_prometheus_2_32_1">Prometheus 2.32.1</h6>
<div class="paragraph">
<p>Uyuni 2022.02 updates Prometheus from version 2.27.1 to 2.32.1.</p>
</div>
<div class="paragraph">
<p>The new version contains some breaking changes that need to be addressed after the Uyuni Server is updated.</p>
</div>
<div class="paragraph">
<p>Breaking changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uyuni Service Discovery: The configuration and the returned set of meta labels have changed. Please check the <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#uyuni_sd_config">upstream documentation</a> for more details.</p>
</li>
<li>
<p>As a consequence all users with existing monitoring setup must reapply the highstate on the monitoring server(s).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Important changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduced generic HTTP-based service discovery.</p>
</li>
<li>
<p>New expression editor with advanced autocompletion, inline linting, and syntax highlighting.</p>
</li>
<li>
<p>Discovering Kubernetes API servers using a kubeconfig file.</p>
</li>
<li>
<p>Faster server restart times via snapshotting.</p>
</li>
<li>
<p>Controlling scrape intervals and timeouts via relabeling.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check the <a href="https://github.com/prometheus/prometheus/blob/v2.32.1/CHANGELOG.md">upstream changelog</a> for more details on what has changed.</p>
</div>
</div>
<div class="sect5">
<h6 id="_postgres_exporter_updated_to_version_0_10_0_for_suse_linux_enterprise_and_opensuse">Postgres exporter updated to version 0.10.0 for SUSE Linux Enterprise and openSUSE</h6>
<div class="paragraph">
<p>Uyuni 2022.02 updates the Postgres exporter from version 0.4.7 to the version 0.10.0 for SUSE Linux Enterprise and openSUSE.</p>
</div>
<div class="paragraph">
<p>This version brings the rename of the package from <code>golang-github-wrouesnel-postgres_exporter</code> to <code>prometheus-postgres_exporter</code>, as this package is now part of the Prometheus Community Projects. After the package is updated, you will need to reenable the <code>prometheus-postgres_exporter</code> service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For the Uyuni Server WebUI, proceed to Admin &gt; Manager Configuration &gt; Monitoring. You will see <code>PostgreSQL database</code> is stopped. Click <code>Enable</code> and the service will get started.</p>
</li>
<li>
<p>For the SUSE Linux Enterprise and openSUSE, apply the highstate to all the clients where the PostgreSQL needs to be exported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The new version also contains a patch that allows connecting to PostgreSQL servers using <code>scram-sha-256</code>, which is the new default for Uyuni installations starting with 2022.02.</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://github.com/prometheus-community/postgres_exporter/blob/v0.10.0/CHANGELOG.md">upstream changelog</a> for more details, including new metrics.</p>
</div>
<div class="paragraph">
<p>Other operating systems such as for example CentOS7 or AlmaLinux 8 will get 0.10.0 with future Uyuni releases.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sles_payg_client_support_on_cloud">SLES PAYG client support on cloud</h5>
<div class="paragraph">
<p>It is now possible to sync content from SUSE-operated Cloud RMT Server from the Uyuni. This makes it a lot easier for users with SLES PAYG instances because now they don&#8217;t need to go through a cumbersome process of getting zero-cost subscriptions.</p>
</div>
<div class="paragraph">
<p>It works in all three major public clouds AWS, GCP, and Azure.</p>
</div>
<div class="paragraph">
<p>For more information and instructions on this topic, see the <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/installation-and-upgrade/connect-payg.html">Connect Pay-as-you-go instance</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_openscap_for_debian_11_tech_preview">openscap for Debian 11 (Tech Preview)</h5>
<div class="paragraph">
<p>Uyuni 2022.02 provides the openscap package binaries using the sources from Debian Sid. Debian11 itself does not provide <a href="https://tracker.debian.org/news/1244793/openscap-removed-from-testing/">openscap</a>, as it was removed from Debian Testing during Debian 11 development.</p>
</div>
<div class="paragraph">
<p>This is a Tech Preview and therefore not supported, but we invite the community to provide feedback and will provide updates from the Debian upstream package if needed.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2022_01">Version 2022.01</h4>
<div class="sect4">
<h5 id="_debian_11_as_client">Debian 11 as client</h5>
<div class="paragraph">
<p>Uyuni is now able to manage Debian 11 clients as salt or salt-ssh minions, as well as all other features that work for previous versions of Debian, with the exception of openscap as it is not available on <a href="https://tracker.debian.org/news/1244793/openscap-removed-from-testing/">Debian 11</a></p>
</div>
<div class="paragraph">
<p>The following architectures can be managed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>x86_64</p>
</li>
<li>
<p>aarch64</p>
</li>
<li>
<p>armv7l</p>
</li>
<li>
<p>i586</p>
</li>
<li>
<p>ppc64le</p>
</li>
<li>
<p>s390x</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check the <code>Client Configuration Guide</code> for information about how to configure Uyuni Server to work with Debian 11 clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_link_to_vendor_security_advisory_in_patch_details_page">Link to vendor security advisory in Patch details page</h5>
<div class="paragraph">
<p>The patch details page now contains a new section <code>Vendor Advisory</code>, which links to the original advisory provided by the vendor of the patch.</p>
</div>
<div class="paragraph">
<p>This information is auto-generated from data already existing in the database thus, when possible, it will be available for both new and existing patches.</p>
</div>
<div class="paragraph">
<p>With Uyuni 2022.01, the following providers are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SUSE</p>
</li>
<li>
<p>Red Hat</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>Amazon</p>
</li>
<li>
<p>AlmaLinux</p>
</li>
<li>
<p>RockyLinux</p>
</li>
<li>
<p>Alibaba</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_add_support_for_custom_ssh_port_for_ssh_minions">Add support for custom SSH port for SSH minions</h5>
<div class="paragraph">
<p>Starting with Uyuni 2022.01, using TCP port 22 for SSH minions is not required anymore, and any TCP port can be used.</p>
</div>
</div>
<div class="sect4">
<h5 id="_change_proxy_used_for_clients_from_the_webui">Change proxy used for clients from the WebUI</h5>
<div class="paragraph">
<p>It is now possible to change the proxy used by an Uyuni client using the WebUI.</p>
</div>
<div class="paragraph">
<p>This can be done from the <code>Connection</code> tab at the <code>Details</code> tab for any Salt client, using the new link <code>Change</code> to change the connection type.</p>
</div>
<div class="paragraph">
<p>Using System Set Manager is supported as well, and can be done from the <code>Misc</code> tab, and then <code>Proxy</code> tab.</p>
</div>
<div class="paragraph">
<p><strong>NOTE:</strong> Changing the connection for a Proxy to move it, is not supported at this moment. The Connectiontab will not show the <code>Change</code> link for proxies.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_12">Version 2021.12</h4>
<div class="sect4">
<h5 id="_salt_as_a_bundle">Salt as a Bundle</h5>
<div class="paragraph">
<p>Salt Bundle is a single package called <code>venv-salt-minion</code> containing the Salt Minion, Python and all Python modules. It is exactly the same version and codebase for the current <code>salt-minion</code> RPM package.</p>
</div>
<div class="paragraph">
<p>The Salt Bundle can be used on systems that already run another Salt Minion, that do not meet Salt&#8217;s requirements or already provide a newer salt version that is used instead of the version provided by Uyuni.</p>
</div>
<div class="paragraph">
<p>Starting with Uyuni 2021.12, Uyuni is able to bootstrap systems with Salt Bundle for all the supported operating systems.</p>
</div>
<div class="paragraph">
<p>On bootstrapping new clients the Salt Bundle package will be used instead of salt-minion, if the package <code>venv-salt-minion</code> is present in the bootstrap repo.</p>
</div>
<div class="paragraph">
<p>Clients already registered will not be changed, but can be switched to Salt Bundle with applying the state <code>util.mgr_switch_to_venv_minion</code> to them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_aarch64_support_for_opensuse_leap_15_3_centos_78_clones_and_related_systems">aarch64 support for openSUSE Leap 15.3, CentOS 7/8, clones and related systems</h5>
<div class="paragraph">
<p>Uyuni 2021.12 adds support for the aarch64 (ARM64) architecture for the following operating systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.3</p>
</li>
<li>
<p>CentOS 7/8</p>
</li>
<li>
<p>Oracle Linux 7/8</p>
</li>
<li>
<p>Rocky Linux 8</p>
</li>
<li>
<p>AlmaLinux 8</p>
</li>
<li>
<p>Amazon Linux 2</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_system_reactivation">System reactivation</h5>
<div class="paragraph">
<p>It is now possible to re-activate a system using the UI/XMLRPC-API of Uyuni which was only possible using bootstrap script before. The bootstrapping page UI has been extended and the user can now enter the reactivation key of the system and the UI/XMLRPC-API of Uyuni will take care of the rest.</p>
</div>
<div class="paragraph">
<p>The same could be achieved from the XMLRPC API.</p>
</div>
</div>
<div class="sect4">
<h5 id="_low_diskspace_notification">Low Diskspace notification</h5>
<div class="paragraph">
<p>With Uyuni 2021.12, on the login page, a banner will be shown when available disk space on the server will be running low. This will help users avoid situations like the automatic shutdown of Uyuni when disk space is critically low, without even noticing it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_package_locking_for_salt_minions">Package Locking for Salt Minions</h5>
<div class="paragraph">
<p>Package locks are used to prevent unauthorized installation or upgrades of software packages. In the past the package lock feature was only available for traditional clients. Now it is also available for Salt clients (SUSE, RHEL and clones, and Debian/Ubuntu).</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/client-configuration/system-locking.html#_package_locks">Package Locking documentation</a> for information about how to use this feature.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_2">Monitoring</h5>
<div class="sect5">
<h6 id="_prometheus_blackbox_exporter">Prometheus Blackbox exporter</h6>
<div class="paragraph">
<p>Uyuni 2021.12 comes with the Blackbox exporter, which allows blackbox probing of endpoints over HTTP, HTTPS, DNS, TCP, and ICMP. It needs to be installed next to the Prometheus server and not on the clients.
Prometheus formula has been extended to configure the Blackbox exporter.</p>
</div>
<div class="paragraph">
<p>The package prometheus-blackbox_exporter has been added as recommended for the Proxy.</p>
</div>
</div>
<div class="sect5">
<h6 id="_formulas">Formulas</h6>
<div class="paragraph">
<p>One of the limitations of the current formulas is that they are listed against every client, even if the supported packages are not available for that OS version or service pack.</p>
</div>
<div class="paragraph">
<p>While we are continuously focused on improving the formulas, for now, starting with the monitoring formulas it will be mentioned in documentation if applying those formulas would actually work in the case of a particular client.</p>
</div>
<div class="paragraph">
<p>In 2021.09, we made the Prometheus package available for Uyuni Proxy and Retail Branch Server but that is not the case with Grafana.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prometheus is available for the client tools for SLE 12, SLE 15, and openSUSE 15 Uyuni Proxies or Retail Branch Servers</p>
</li>
<li>
<p>Grafana is available for the client tools for SLE 12, SLE 15, openSUSE15</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_content_lifecycle_management_improvement">Content Lifecycle Management improvement</h5>
<div class="paragraph">
<p>From the Content Lifecycle Management project view, the new column <code>Last build</code> has been added. This information is useful when you need a general overview of all latest build times rather than retrieving the information project by project.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_xmlrpc_api_methods_for_saltkey">New XMLRPC API methods for SaltKey</h5>
<div class="paragraph">
<p>Following new XMLRPC methods have been added in <code>SaltKey</code> namespace.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>accept</code> : API endpoint to accept minion keys</p>
</li>
<li>
<p><code>reject</code> : API endpoint to reject minion keys</p>
</li>
<li>
<p><code>pendingList</code> :  API endpoint to list pending salt keys</p>
</li>
<li>
<p><code>acceptedList</code> : API endpoint to list accepted salt keys</p>
</li>
<li>
<p><code>rejectedList</code> : API endpoint to list rejected salt keys</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These methods could further help in improving the automation workflows.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_product_enabled">New product enabled</h5>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise Server 15 SP2 LTSS</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_cve_2021_40348_remediation">CVE-2021-40348 remediation</h5>
<div class="paragraph">
<p>A security fix for <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-40348">CVE-2021-40348</a> is included as apart of Uyuni 2021.08, to fix a potential injection arbitrary code to a root-owned file that eventually will be executed by the system.</p>
</div>
<div class="paragraph">
<p>The fix for this problem was previously released on October 29th as a patch on top of Uyuni 2021.09, but if you did not apply such patch yet, we recommend appling the update to Uyuni 2021.12 as soon as possible.</p>
</div>
</div>
<div class="sect4">
<h5 id="_centos_8_end_of_life">CentOS 8 End of Life</h5>
<div class="paragraph">
<p>CentOS 8 will be End of Life on December 31st, 2021. Uyuni support for this product will end as well.</p>
</div>
<div class="paragraph">
<p>Please refer to support section for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_future_deprecation_of_the_traditional_stack">Future deprecation of the traditional stack</h5>
<div class="paragraph">
<p>This version of Uyuni is compatible with Salt and traditional clients. We will deprecate traditional clients and traditional proxies in the summer of 2022.</p>
</div>
<div class="paragraph">
<p>After summer of 2022, Uyuni will not support traditional clients, and the code to support it will be removed at some point after the summer.</p>
</div>
<div class="paragraph">
<p>We encourage all new deployments to use Salt clients and Salt proxies exclusively, and to migrate existing traditional clients to Salt.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_09">Version 2021.09</h4>
<div class="sect4">
<h5 id="_appstreams_webui_improvements">AppStreams WebUI improvements</h5>
<div class="paragraph">
<p>The content lifecycle project page in the WebUI has been further improved. This page now provides <code>AppStreams with a default</code> filter template. This template creates a module filter for each module in the repository, and specifies the default stream for each module.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improve_the_date_time_handling_on_the_ui">Improve the date time handling on the UI</h5>
<div class="paragraph">
<p>Uyuni 2021.09 fixes a number of inconsistencies in date time handling related to time zones by always using the IANA standard format.</p>
</div>
<div class="paragraph">
<p>A few pages at the <code>Admin</code> menu still show the old format, and will be adapted with the next Uyuni versions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_syncing_patches_with_advisory_status_pending">Support syncing patches with advisory status 'pending'</h5>
<div class="paragraph">
<p>Uyuni 2021.09 now supports the new advisory status <code>pending</code> as used by the EPEL7 and 8 repositories.</p>
</div>
</div>
<div class="sect4">
<h5 id="_virtualization">Virtualization</h5>
<div class="paragraph">
<p>Virtualization in Uyuni has received some enhancements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UEFI support: UEFI support has been added for creating and editing VMs. Note that Auto discovery of the firmware binary and NVRAM depends on the version of libvirt installed on a minion.</p>
</li>
<li>
<p><code>virt-tuner</code> templates: <code>virt-tuner</code> template has been added to create a VM. Now users can select a template from the those supported by the <code>virt-tuner</code> tool.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_spacecmd_allow_massive_archive_and_delete_actions">spacecmd: allow massive archive and delete actions</h5>
<div class="paragraph">
<p>Added new commands to "spacecmd" to allow massive archive and delete actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>schedule_archivecompleted</code>: archive all completed actions older than a given date</p>
</li>
<li>
<p><code>schedule_deletearchived</code>: delete all archived actions older than a given date</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows bypassing the Web User Interface display limit.</p>
</div>
</div>
<div class="sect4">
<h5 id="_recent_cobbler_cves_remediation">Recent cobbler CVEs remediation</h5>
<div class="paragraph">
<p>In addition to fixing Fixed Remote Code Execution in the XMLRPC API which additionally allowed arbitrary file read and write as root, this release includes the fixes for CVE-2021-40323, CVE-2021-40324, CVE-2021-40325.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_08">Version 2021.08</h4>
<div class="sect4">
<h5 id="_rocky_linux_8_as_client">Rocky Linux 8 as client</h5>
<div class="paragraph">
<p>Uyuni is now able to manage Rocky Linux 8 clients as salt or salt-ssh minions, as well as all other features that work for CentOS 8 or AlmaLinux 8.</p>
</div>
<div class="paragraph">
<p>Rocky Linux OS intends to fill the gap that will exist after CentOS 8 Stable is End of Life by the end of 2021. According to the Rocky Enterprise Software Foundation "Rocky Linux is a community enterprise operating system designed to be 100% bug-for-bug compatible with America&#8217;s top enterprise Linux distribution now that its downstream partner has shifted direction."</p>
</div>
<div class="paragraph">
<p>Check the <code>Client Configuration Guide</code> for information about how to configure Uyuni Server to work with Rocky Linux clients.</p>
</div>
<div class="paragraph">
<p>For now the following architectures are supported: x86_64</p>
</div>
<div class="paragraph">
<p>Support for Rocky Linux 8 will continue to improve, including support for other architectures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ansible_playbooks_test_mode">Ansible Playbooks test mode</h5>
<div class="paragraph">
<p>Ansible Playbooks can now run in test mode.</p>
</div>
<div class="paragraph">
<p>Known issue: When running a playbook in test mode using an Ansible control node that is registered as SSH minion in Uyuni, then the action is always reported as failed, even if it succeeds.</p>
</div>
</div>
<div class="sect4">
<h5 id="_kiwi_parameters_for_os_image_profiles">Kiwi parameters for OS Image profiles</h5>
<div class="paragraph">
<p>It is now possible to pass custom kiwi parameters in an OS Image profile.</p>
</div>
<div class="paragraph">
<p>This can be particularly helpful for selecting a specific profile when passing the option (<code>--profile &lt;profilename&gt;</code>) to Kiwi files containing multiple profiles.</p>
</div>
</div>
<div class="sect4">
<h5 id="_fixes_for_aarch64_hosts_including_virtualization">Fixes for AArch64 hosts, including virtualization</h5>
<div class="paragraph">
<p>Uyuni 2021.08 now collects more information about CPU for AArch64 systems. That, together with some more fixes, make virtualization features usable on AArch64 systems.</p>
</div>
</div>
<div class="sect4">
<h5 id="_virtual_machines_and_uefi">Virtual Machines and UEFI</h5>
<div class="paragraph">
<p>Virtual machines can now be created with UEFI support from the web interface.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pacemaker_support_for_kvm_and_xen_virtual_machines">Pacemaker support for KVM and Xen virtual machines</h5>
<div class="paragraph">
<p>Starting with Uyuni 2021.08, creating a virtual machine on a Pacemaker cluster node defines the resource on the cluster. The cluster-managed virtual machines can also be live migrated using the Uyuni web interface.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_clm_filter_template">New CLM Filter Template</h5>
<div class="paragraph">
<p>Content Lifecycle Management got a new filter template to setup Live Patching based on an existing system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_openscap_audit">OpenSCAP Audit</h5>
<div class="paragraph">
<p>The OpenSCAP XCCDF scan UI supports now more options and additional OVAL files can be defined.
Supported options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--profile &lt;name&gt;</code></p>
</li>
<li>
<p><code>--rule &lt;id&gt;</code></p>
</li>
<li>
<p><code>--tailoring-file &lt;path&gt;</code></p>
</li>
<li>
<p><code>--tailoring-id &lt;id&gt;</code></p>
</li>
<li>
<p><code>--fetch-remote-resources</code></p>
</li>
<li>
<p><code>--remediate</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can provide additional OVAL files paths to prevent using <code>--fetch-remote-resource</code> when the file is locally available.</p>
</div>
</div>
<div class="sect4">
<h5 id="_logs_for_salt_ssh_clients">Logs for Salt SSH clients</h5>
<div class="paragraph">
<p>Starting with Uyuni 2021.08, all Salt SSH clients will have a log at <code>/var/log/salt-ssh.log</code>, as well as log rotation configured for it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tech_preview_inter_server_synchronization_version_2">Tech-preview:  Inter-Server Synchronization version 2</h5>
<div class="paragraph">
<p>Uyuni 2021.08, includes Inter-Server Synchronization version 2. This new version allows exporting software channels between servers without the previous notions of master and slave. Unlike the previous Inter-Server Synchronization, no mandatory direct connection between servers is needed since data are exported and imported in a disconnected mode.</p>
</div>
<div class="paragraph">
<p>Check the (<a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/iss_v2.html)">new Inter-Server Syncronization 2 documentation</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_3">Monitoring</h5>
<div class="sect5">
<h6 id="_grafana">Grafana</h6>
<div class="paragraph">
<p>Grafana was updated from version 7.4.2 to 7.5.7.</p>
</div>
<div class="paragraph">
<p>Check the upstream documentation for details on what has changed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-4/" class="bare">https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-4/</a></p>
</li>
<li>
<p><a href="https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-5/" class="bare">https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-5/</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_prometheus">Prometheus</h6>
<div class="paragraph">
<p>Prometheus was updated from version 2.26.0 to 2.27.1.</p>
</div>
<div class="paragraph">
<p>Important changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SECURITY: Fix arbitrary redirects under the /new endpoint (CVE-2021-29622)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check the upstream documentation for more details on what has changed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.27.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.27.1</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.27.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.27.0</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_06">Version 2021.06</h4>
<div class="sect4">
<h5 id="_upgrade_notes">Upgrade notes</h5>
<div class="paragraph">
<p><strong>WARNING:</strong> This release updates the base OS from openSUSE Leap 15.2 to openSUSE Leap 15.3 and there are special steps required. You need at least Uyuni 2020.07 already installed to perform the upgrade, and you need to follow the
(<a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/upgrade/server-major-upgrade-uyuni.html)">major upgrade procedure for the Server</a>. More details are also available at the "Update from previous versions of Uyuni Server" section below.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_3002">Salt 3002</h5>
<div class="paragraph">
<p>Salt has been upgraded to upstream version 3002, plus a number of patches, backports and enhancements by SUSE, for the Uyuni Server, Proxy and Client Tools (where the client operating system supports Python 3.5+; otherwise Salt 3000 or 2016.11 are used).</p>
</div>
<div class="paragraph">
<p>Salt 3002 only works with Python 3.5+, therefore:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Salt 3002 is only available on SLE 15, RHEL 8 (and clones: CentOS, Oracle Linux, SLES Expanded Support and AlmaLinux), Ubuntu 18.04 and 20.04, and Debian 10. Only a Python 3 version is provided.</p>
</li>
<li>
<p>Salt 3000 is still the version of Salt for SLE 12, RHEL 7 (and clones: CenOS, Oracle Linux, SLES Expanded Support, Amazon Linux and Alibaba Cloud Linux) and Debian 9. Only a Python 2 version is provided. SLE 12 additionally provides a Python 3 version.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We intend to regularly upgrade Salt to more recent versions.</p>
</div>
<div class="paragraph">
<p>For more details about changes in your manually-created Salt states, see the <a href="https://docs.saltstack.com/en/latest/topics/releases/3002.html">Salt 3002 upstream release notes</a> and <a href="https://docs.saltstack.com/en/latest/topics/releases/3001.html">Salt 3001 upstream release notes</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_base_system_upgrade">Base System Upgrade</h5>
<div class="paragraph">
<p>The base system was upgraded to openSUSE Leap&#160;15.3.</p>
</div>
<div class="paragraph">
<p>The Uyuni Proxy and Retail Branch Server can now be installed on top of openSUSE Leap 15.3 JeOS edition.</p>
</div>
</div>
<div class="sect4">
<h5 id="_postgresql_13">PostgreSQL 13</h5>
<div class="paragraph">
<p>The database engine has been updated from PostgreSQL&#160;12 to PostgreSQL&#160;13, which brings a number of performance and reliability improvements. A detailed changelog is available <a href="https://www.postgresql.org/docs/release/13.1/">upstream</a>.</p>
</div>
<div class="paragraph">
<p>To prevent inconsistent configurations and data on upgrade or update, Uyuni &#160;2021.06 will refuse to start until the database migration from PostgreSQL 12 to PostgreSQL 13 has completed successfully.</p>
</div>
<div class="paragraph">
<p>Please note the database migration from PostgreSQL 12 will rebuild the database indices. This may take several hours if you have thousands of software channels.</p>
</div>
</div>
<div class="sect4">
<h5 id="_missing_opensuse_leap_15_3_channels_added_to_spacewalk_common_channels">Missing openSUSE Leap 15.3 channels added to spacewalk-common-channels</h5>
<div class="paragraph">
<p>After openSUSE Leap 15.3 GA, two new repositories we added as part of Maintenance Updates, and are now part of <code>spacewalk-common-channels</code> as two new channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>opensuse_leap15_3-sle-updates</code></p>
</li>
<li>
<p><code>opensuse_leap15_3-backports-updates</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both channels are available for <code>x86_64</code> and <code>aarch64</code> architectures.</p>
</div>
<div class="paragraph">
<p>You can add them to your Uyuni Server with <code>spacewalk-common-channels</code>, and then sync them.</p>
</div>
<div class="paragraph">
<p>After the sync is complete, consider adding them to all your openSUSE Leap 15.3 clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_integration_of_ansible_into_an_uyuni_automation_environment_to_protect_customer_investment_and_ease_migration_technology_preview">Integration of Ansible into an Uyuni automation environment to protect customer investment and ease migration (Technology Preview)</h5>
<div class="paragraph">
<p>Configuration and automation platforms have become increasingly important to control an organizations ever-growing IT landscape. There are a variety of popular tools in the market and companies may have already made investments in a particular tool, one of them being Ansible.</p>
</div>
<div class="paragraph">
<p>Adopting Uyuni, or migrating to it, does not mean that you should necessarily renounce your previous configuration management systems investment. Uyuni 2021.06 provides support for Ansible packages on SLE and connects to the Ansible control nodes on any supported client operating system to gather inventory, playbooks and manage clients with Uyuni.</p>
</div>
<div class="paragraph">
<p>Uyuni 2021.06 allows you to simply re-use and run your Ansible playbooks, saving time and resources by consolidating tools while keeping existing automation investments. This means you do not have to re-implement your Ansible automation solution, making migration to the SUSE and openSUSE landscape easier.</p>
</div>
<div class="paragraph">
<p>Combined with its strong Salt capabilities, it enhances Uyunis configuration and automation capabilities helping you to orchestrate even the largest environments  across cloud and on-premise.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_05">Version 2021.05</h4>
<div class="sect4">
<h5 id="_new_products_enabled">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>SLE Micro 5.0</p>
</li>
<li>
<p>openSUSE MicroOS</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_sle_micro_5_0_and_opensuse_microos_as_clients">SLE Micro 5.0 and openSUSE MicroOS as clients</h5>
<div class="paragraph">
<p>Uyuni 2021.05 provides limited support for SLE Micro 5.0 and openSUSE MicroOS clients. The following features work:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client registration</p>
</li>
<li>
<p>Salt remote commands</p>
</li>
<li>
<p>Formulas and Formulas with Forms</p>
</li>
<li>
<p>Installed software packages, updates, patches, etc are listed</p>
</li>
<li>
<p>Refreshing installed package list</p>
</li>
<li>
<p>Package installation, update, patching, removal</p>
</li>
<li>
<p>Content Lifecycle Management</p>
</li>
<li>
<p>State and configuration channels</p>
</li>
<li>
<p>Autoinstallation with AutoYaST and Yomi</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Known issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>transactional-update</code> versions 3.2.2-1.1 or older contain a bug and will not work properly with Salt. A fix will be shipped (in SLE Micro 5.0) soon, which will enable it with Salt and Uyuni.</p>
</li>
<li>
<p>Package and patch installation, removal and update work but after installation, the WebUI will not show the actual patch state of the system, and it will not notify a reboot is required for those changes to be enabled. As a workaround, you can manually schedule a reboot.</p>
</li>
<li>
<p>Action chains will fail</p>
</li>
<li>
<p>Container management. Uyuni cannot manage podman containers at the moment but you can use Salt remote commands for that.</p>
</li>
<li>
<p>Maintenance windows in SLE Micro are currently independent from Uyuni&#8217;s</p>
</li>
<li>
<p>First releases of SLE Micro 5.0 contained a broken <code>salt-minion</code> package. Please make sure you use the latest version available in the SLE Micro Update channel. This does not affect openSUSE MicroOS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>SLE Micro and openSUSE MicroOS are only supported as a Salt minion. The traditional stack will not be supported.</p>
</div>
<div class="paragraph">
<p>The missing features will be added in upcoming releases of Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_deprecated_products">Deprecated products</h5>
<div class="ulist">
<ul>
<li>
<p>Red Hat Enterprise Linux 6</p>
</li>
<li>
<p>Oracle Linux 6</p>
</li>
<li>
<p>CentOS 6</p>
</li>
<li>
<p>Ubuntu 16.04 LTS</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>RHEL 6 (and clones: CentOS 6, Oracle Linux 6, SLES ES 6) ended upstream general support on November 30th, 2020. After a grace period of 7 months, we are now ending fixes for these operating systems.</p>
</div>
<div class="paragraph">
<p>Ubuntu 16.04 LTS ended upstream general support on April 30th, 2021. After a grace period of 3 months, we are now ending fixes for these operating systems.</p>
</div>
<div class="paragraph">
<p>Please note "ending fixes" means their client tools remain available and can still be added, mirrored and used. But in case they stop working at some point in time, fixes will only be provided as on a best-effort basis (which in general means if the issue can be reproduced with a supported operating system, it will be fixed; but if the issue is specific to the unsupported operating system, a fix should not be expected).</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_tls">Prometheus TLS</h5>
<div class="paragraph">
<p>Prometheus and the Prometheus formulas now support TLS and basic authentication for HTTP endpoints. This provides a way to securely transfer metrics data.</p>
</div>
</div>
<div class="sect4">
<h5 id="_updated_prometheus">Updated Prometheus</h5>
<div class="paragraph">
<p>Prometheus has been updated from version 2.21.1 to version 2.26.0, which brings a number of bugfixes and improvements (such as securing connections using TLS).</p>
</div>
<div class="paragraph">
<p>For details on what changed in each version between 2.21.1 and 2.26.0, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.22.2" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.22.2</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.23.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.23.0</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.24.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.24.0</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.24.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.24.1</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.25.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.25.0</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.25.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.25.1</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.25.2" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.25.2</a></p>
</li>
<li>
<p><a href="https://github.com/prometheus/prometheus/releases/tag/v2.26.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.26.0</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_migrate_clients_from_opensuse_leap_to_suse_linux_enterprise_server">Migrate clients from openSUSE Leap to SUSE Linux Enterprise Server</h5>
<div class="paragraph">
<p>The "Service Pack Migration" feature has been renamed "Product Migration".</p>
</div>
<div class="paragraph">
<p>In Uyuni 2021.05, the Product Migration feature allows two different use cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Migration from one service pack to another within the same major version of SUSE Linux Enterprise (e. g. from SLE 15 SP2 to SLE 15 SP3)</p>
</li>
<li>
<p>Migration from openSUSE Leap to the equivalent version of SLES (e. g. from Leap 15.3 to SLES 15 SP3). A registration key for openSUSE Leap is required, which can be obtained from SCC for free.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Migration between different SUSE Linux Enterprise codestreams (e. g. SLE 12 to SLE 15) is not possible using the Product Migration feature. Use autoinstallation profiles for that.</p>
</div>
<div class="paragraph">
<p>Migration between non-SUSE products (e. g. from CentOS to AlmaLinux) is not available at the moment.</p>
</div>
</div>
<div class="sect4">
<h5 id="_easier_system_group_and_configuration_channel_assignment">Easier system group and configuration channel assignment</h5>
<div class="paragraph">
<p>We have simplified the screens where system groups and configuration channels were assigned by removing the tabs and subtabs. All the information and actions are now in the same screen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enhanced_clm_filter_list">Enhanced CLM filter list</h5>
<div class="paragraph">
<p>The Content Lifecycle Management filter list screen how allows filter selection, deletion and sorting and search by project.</p>
</div>
</div>
<div class="sect4">
<h5 id="_notify_beacon_for_deb_based_clients">Notify beacon for DEB-based clients</h5>
<div class="paragraph">
<p>While the recommended way to manage clients is to install, remove, patch, etc from Uyuni, which triggers the correct actions, sometimes users run the package managers directly. When doing this on Debian and Ubuntu clients, the WebUI showed an outdated package list for some time.</p>
</div>
<div class="paragraph">
<p>Uyuni now hooks directly into the package manager database on the client to identify local package management and trigger a package refresh from the Server to make sure the list of packages is always up to date.</p>
</div>
</div>
<div class="sect4">
<h5 id="_allow_setting_primary_fqdn_for_the_systems">Allow setting primary FQDN for the systems</h5>
<div class="paragraph">
<p>It is now possible possible to set/get the primary FQDN of a given system.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Via XMLRPC-API:</p>
<div class="ulist">
<ul>
<li>
<p>The existing system.getNetworkForSystems method will now return a new fqdn field with the primary FQDN</p>
</li>
<li>
<p>A new system.setPrimaryFqdn method has been added to set the primary FQDN of a given system</p>
</li>
</ul>
</div>
</li>
<li>
<p>Via WebUI:</p>
<div class="ulist">
<ul>
<li>
<p>The primary FQDN of a given systems can ve visualized/set via System &gt; Details &gt; Hardware page.</p>
</li>
<li>
<p>This is specially useful because this data is used to configure target address for monitoring.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_virtualization_2">Virtualization</h5>
<div class="paragraph">
<p>Virtualization in Uyuni has received a number of enhancements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fine-tuning: CPU pinning and special memory configurations, such as those required when running SAP under KVM, can now be configured with Uyuni.</p>
</li>
<li>
<p>Autostart: automatically start needed networks and storage pools when creating/starting a VM</p>
</li>
<li>
<p>Virtual console: the virtual console monitors virtual machine state changes and can be opened even when the virtual machine is powered off. This helps in debugging startup issues, and allows to manage the VM even when it is running on another virtualization host.</p>
</li>
<li>
<p>The virtpoller beacon is now removed a replaced by a refresh action.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_custom_data_as_pillar">Custom data as pillar</h5>
<div class="paragraph">
<p>Traditional stack clients could receive some <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/client-configuration/configuration-management.html">custom information via macros</a> but this feature was missing on Salt clients.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2021.05, we have implemented passing any custom information to Salt clients (both salt-minion and salt-ssh) via pillars:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>salt \* pillar.get custom_info:key1
minion:
    val1</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_retracted_patches">Retracted patches</h5>
<div class="paragraph">
<p>When an operating system vendor releases a new patch, it might happen that the patch has undesirable side effects (security, stability, boot no longer working, etc) on some scenario that was not identified by testing. When that happens (very rarely), vendors typically release a new patch, which may take from hours to days, depending on the internal processes in place by that vendor.</p>
</div>
<div class="paragraph">
<p>SUSE has introduced a new mechanism called "retracted patches" to take back such patches in minutes by simply removing the bad patch from the repository metadata and resorting to the previously working patch. These patches receive the advisory status "retracted" (instead of the usual "final" or "stable").</p>
</div>
<div class="paragraph">
<p>Uyuni now supports retracted paches across all the lifecycle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Retracted patches can be synchronized</p>
</li>
<li>
<p>When a patch is retracted, it will be noted as such with its own specific icon and status</p>
</li>
<li>
<p>Retracted patches can be cloned</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following the behavior defined in <code>zypper</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Once a retracted patch is installed, it will not be uninstalled unless you uninstall it explicitly. Uyuni will never automatically uninstall anything from your systems on its own.</p>
</li>
<li>
<p>Once a patch has been retracted by the vendor, the retracted patch cannot be installed via normal patch, update and installations.</p>
</li>
<li>
<p>Retracted patches remain available in the software channels and can be forcefully-installed/updated-to by speficying the exact version you want to install (e. g. by using <code>zypper</code> directly or by using the exact version in a Salt state).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To protect our users, the behaviour when cloning retracted patches is slightly different than usual:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a Content Lifecycle Management project uses a source channel which contains a now-retracted patch, a warning is displayed so that you are aware you should build and propagate the patch as soon as possible.</p>
</li>
<li>
<p>When a retracted patch is synchronized, it will not be cloned to the cloned channels by default. You will need to propagate it explicitly, like any other patch.</p>
</li>
<li>
<p>In contrast, once a retracted patch has been added one Content Lifecycle Management project and the project software channels built, the retracted patch will be automaticaly propagated all the other projects where that (now retracted) patch is available.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_client_systems_forwarded_to_suse_customer_center">Client systems forwarded to SUSE Customer Center</h5>
<div class="paragraph">
<p>This feature is only available when you enter your SCC mirroring credentials in Uyuni Server.</p>
</div>
<div class="paragraph">
<p>Until Uyuni 2021.05, the managed clients were not listed at SCC even if a SCC account was present at the Uyuni Server. This surprised users, who did not understand why clients connected via SUSEconnect, RMT or SMT would show in SCC, but clients connected with Uyuni would not.</p>
</div>
<div class="paragraph">
<p>Responding to this often-asked question and feature request for both Uyuni and SUSE Manager, we have now implemented client list forwarding to SCC in Uyuni 2021.05.</p>
</div>
<div class="paragraph">
<p>If you have a SCC account added at your Uyuni Servers, then the clients (even non-SUSE operating systems) managed by Uyuni Server (connected directly or via Proxy or Retail Branch Server) will be listed in SCC.</p>
</div>
<div class="paragraph">
<p>When a client is removed from Uyuni, it will also be removed from SCC.</p>
</div>
<div class="paragraph">
<p>The information transferred is limited to that which is already collected and transferred by SUSEconnect, RMT and SMT:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client OS name and version</p>
</li>
<li>
<p>Hostname</p>
</li>
<li>
<p>Number of CPU sockets</p>
</li>
<li>
<p>Architecture</p>
</li>
<li>
<p>UUID of the system</p>
</li>
<li>
<p>Hypervisor and cloud provider information</p>
</li>
<li>
<p>Login: Uyuni instance id + client system id</p>
</li>
<li>
<p>Password: random string generated by Uyuni. Not used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This information is used for statistical and product research purposes only.</p>
</div>
<div class="paragraph">
<p>In case you want to add your SCC account to Uyuni but completely disable client list submission to SCC, set this parameter in <code>/etc/rhn/rhn.conf</code> and restart Uyuni (<code>spacewalk-service restart</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>server.susemanager.forward_registration = 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>Display of the client operating system name and version in SCC is pending an upcoming update in SCC.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuration_state_summary">Configuration state summary</h5>
<div class="paragraph">
<p>In Uyuni, configuration may come from many different places: Uyuni itself, configuration channels assigned to your organization, configuration channels assigned to the system groups your clients belong to, configuration channels assigned directly to a client system or formulas with forms.</p>
</div>
<div class="paragraph">
<p>When managing a large number of clients distributed across several organizations, with multiple system groups, channels, etc, knowing what is exactly the configuration that will be applied may become a daunting task.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2021.05, we have added the configuration state summary to the Highstate page of the client. With this, you can see exactly where state is coming from.</p>
</div>
</div>
<div class="sect4">
<h5 id="_live_patching_made_easy_with_filter_templates">Live patching made easy with filter templates</h5>
<div class="paragraph">
<p>SUSE Linux Enterprise Live Patching helps customers to bring down reboot cycles to once a year which saves companies a time, resources and availability compared to not using live patching at all.</p>
</div>
<div class="paragraph">
<p>Setting up Live Patching requires installing specific kernel versions which are enabled for live patches, and installing the specific live patches.</p>
</div>
<div class="paragraph">
<p>Uyuni 2021.05 implements filter templates, which are a set of pre-defined filters for a specific use case. The first filter template we are including in Uyuni 2021.05 makes it easy to configure live patching for a specific SUSE product (e. g. SLE 15 SP2). New filter templates and additional information about the lifecycle of the live kernel will be added in upcoming versions of Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_html_documentation_for_the_api">HTML documentation for the API</h5>
<div class="paragraph">
<p>The API documentation is now available in HTML format, in addition to the existing PDF document.</p>
</div>
<div class="paragraph">
<p>The new HTML API documentation includes a search engine too:<br>
<a href="https://www.uyuni-project.org/uyuni-docs-api/uyuni/index.html" class="bare">https://www.uyuni-project.org/uyuni-docs-api/uyuni/index.html</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_new_api_calls">New API calls</h5>
<div class="paragraph">
<p>New API calls have been added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enhanced config channel API with list assigned groups</p>
</li>
<li>
<p>Enhanced server group API with config channel and formula access methods</p>
</li>
<li>
<p>Added an API endpoint to allow/disallow scheduling irrelevant patches</p>
</li>
<li>
<p>Added APIs to manage retracted patches</p>
</li>
<li>
<p>Added APIs to set and get the primary FQDN of a given system (system.getNetworkForSystems/system.setPrimaryFqdn)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_spacecmd_improvements">spacecmd improvements</h5>
<div class="paragraph">
<p>The spacecmd commandset has been modified to match the current features of the product:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add group_addconfigchannel and group_removeconfigchannel</p>
</li>
<li>
<p>Add group_listconfigchannels and configchannel_listgroups</p>
</li>
<li>
<p>Deprecated "Software Crashes" commands</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_activation_key_dropped_from_system_details">Activation key dropped from system details</h5>
<div class="paragraph">
<p>Activation keys can be used when registering new clients, or re-registering existing clients, to make sure the correct software entitlements, software channels, system groups, etc are applied when they come under Uyuni management.</p>
</div>
<div class="paragraph">
<p>After a client is registered to Uyuni, activation keys serve no purpose. Software channels, groups, etc can be changed independently from the activation key.</p>
</div>
<div class="paragraph">
<p>The fact the activation key remained in the System Details led users to think editing the activation key (e. g. changing the software channels assigned to that activation key) would change what was assigned to that client system. This is not true. To avoid that confusion, the Activation Key field has been removed from the System Details of registered clients.</p>
</div>
<div class="paragraph">
<p>Activation keys can still be used during client registration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_software_crashes_abrt_dropped">Software Crashes (ABRT) dropped</h5>
<div class="paragraph">
<p>The Software Crashes feature, based on the ABRT library, has been dropped in Uyuni 2021.05. This was a very old feature which only worked on a limited set of clients and required careful configuration to actually submit crash reports to the Uyuni Server instead of upstream projects.</p>
</div>
</div>
<div class="sect4">
<h5 id="_warning_about_ansible_integration">Warning about Ansible integration</h5>
<div class="paragraph">
<p>Uyuni 2021.05 introduces some new changes related with the ongoing implementation of Ansible control node management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New "Ansible Control Node" system type in "System &#8594; Properties".</p>
</li>
<li>
<p>New "Ansible" tab in the system page to operate your Ansible control node.</p>
</li>
<li>
<p>New XMLRPC endpoints for operating your Ansible control node.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This technology preview feature is <strong>NOT</strong> yet ready to work correctly in Uyuni 2021.05. You should not assign this new "system type" yet to your registered systems. The feature will be available with Uyuni 2021.06
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_04">Version 2021.04</h4>
<div class="sect4">
<h5 id="_vendor_change_for_some_java_dependencies">Vendor change for some Java dependencies</h5>
<div class="paragraph">
<p>We continue to increase the number of Java depencies we use directly from openSUSE.</p>
</div>
<div class="paragraph">
<p>Before starting the services, make sure you run this command to change the vendor of the <code>xstream</code> package:</p>
</div>
<div class="paragraph">
<p><code>zypper install --allow-downgrade --allow-vendor-change -f xstream-1.4.15-lp152.2.3.1</code></p>
</div>
<div class="paragraph">
<p>This will also install the packages <code>xpp3</code> and <code>xpp3-minimal</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_fix_for_potential_security_issue_with_java_rmi">Fix for potential security issue with Java RMI</h5>
<div class="paragraph">
<p>Uyuni 2021.04 fixes a potential security issue that could allow remote code execution via Java RMI.</p>
</div>
<div class="paragraph">
<p>This issue only existed on the Uyuni Server if the self-monitoring was enabled.</p>
</div>
<div class="paragraph">
<p>The access to Java RMI is now limited to localhost.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_2">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>Amazon Linux 2</p>
</li>
<li>
<p>Alibaba Linux 2</p>
</li>
<li>
<p>AlmaLinux 8</p>
</li>
<li>
<p>MicroFocus Open Enterprise Server 2018 SP3</p>
</li>
<li>
<p>openSUSE Leap 15.3 (Beta)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_amazon_linux_2_and_alibaba_linux_2_clients">Amazon Linux 2 and Alibaba Linux 2 clients</h5>
<div class="paragraph">
<p>Uyuni is now able to manage Amazon Linux 2 and Alibaba Linux 2 clients as salt or salt-ssh minions, as well as all other features that work for CentOS 7.</p>
</div>
<div class="paragraph">
<p>Check the <code>Client Configuration Guide</code> for information about how to configure Uyuni Server to work with Debian clients.</p>
</div>
<div class="paragraph">
<p>For now the following architectures are supported: x86_64</p>
</div>
<div class="paragraph">
<p>Support for Amazon Linux2 and Alibaba Linux 2 will continue to improve, including support for aarch64 clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_almalinux_8">AlmaLinux 8</h5>
<div class="paragraph">
<p>Uyuni is now able to manage AlmaLinux 8 clients as salt or salt-ssh minions, as well as all other features that work for CentOS 8.</p>
</div>
<div class="paragraph">
<p>AlmaLinux OS intends to fill the gap that will exist after CentOS 8 Stable is End of Life by the end of 2021. According to the AlmaLinux OS Foundation "AlmaLinux OS is a 1:1 binary compatible fork of RHEL 8"</p>
</div>
<div class="paragraph">
<p>Check the <code>Client Configuration Guide</code> for information about how to configure Uyuni Server to work with AlmaLinux clients.</p>
</div>
<div class="paragraph">
<p>For now the following architectures are supported: x86_64</p>
</div>
<div class="paragraph">
<p>Support for AlmaLinux 8 will continue to improve, including support for other architectures as they are added to AlmaLinux.</p>
</div>
</div>
<div class="sect4">
<h5 id="_maintenance_windows_ui">Maintenance Windows UI</h5>
<div class="paragraph">
<p>Scheduling Maintenance Windows is now easier:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An interactive calendar has replaced the display of the iCalendar file in the details view</p>
</li>
<li>
<p>An interactive web calendar replaces the listing of upcoming maintenance windows in the details of a maintenance schedule, and events associated with that schedule are displayed.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_removal_of_deprecated_xmlrpc_api_methods">Removal of deprecated XMLRPC API methods</h5>
<div class="paragraph">
<p>The following XMLRPC API methods have been deprecated for a long time and are removed as part of Uyuni 2021.04:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ActivationKeyHandler <code>addPackageNames(User loggedInUser, String key, List packageNames)</code></p>
</li>
<li>
<p>ActivationKeyHandler <code>removePackageNames(User loggedInUser, String key, List packageNames)</code></p>
</li>
<li>
<p>ChannelHandler <code>listRedHatChannels(User loggedInUser)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listAllPackages(User loggedInUser, String channelLabel, String startDate, String endDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listAllPackages(User loggedInUser, String channelLabel, String startDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listAllPackagesByDate(User loggedInUser, String channelLabel, String startDate, String endDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listAllPackagesByDate(User loggedInUser, String channelLabel, String startDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listAllPackagesByDate(User loggedInUser, String channelLabel)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>setSystemChannels(User loggedInUser, Integer sid, List channelLabels)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listErrata(User loggedInUser, String channelLabel, String startDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>listErrata(User loggedInUser, String channelLabel, String startDate, String endDate)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>subscribeSystem(User loggedInUser, Integer sid, List labels)</code></p>
</li>
<li>
<p>ChannelSoftwareHandler <code>unsubscribeChannels(User user, List sids, String baseChannel, List childLabels)</code></p>
</li>
<li>
<p>ErrataHandler <code>listByDate(User loggedInUser, String channelLabel)</code></p>
</li>
<li>
<p>KickstartHandler <code>listKickstartableTrees(User loggedInUser, String channelLabel)</code></p>
</li>
<li>
<p>ContentSyncHandler <code>synchronizeProductChannels(User loggedInUser)</code></p>
</li>
<li>
<p>SystemHandler <code>listBaseChannels(User loggedInUser, Integer sid)</code></p>
</li>
<li>
<p>SystemHandler <code>listChildChannels(User loggedInUser, Integer sid)</code></p>
</li>
<li>
<p>SystemHandler <code>applyErrata(User loggedInUser, Integer sid, List errataIds)</code></p>
</li>
<li>
<p>UserHandler <code>getLoggedInTime(User loggedInUser, String login)</code></p>
</li>
<li>
<p>SystemHandler <code>setChildChannels(User loggedInUser, Integer sid, List channelIdsOrLabels)</code></p>
</li>
<li>
<p>SystemHandler <code>setBaseChannel(User loggedInUser, Integer sid, Integer cid)</code></p>
</li>
<li>
<p>SystemHandler <code>setBaseChannel(User loggedInUser, Integer sid, String channelLabel)</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_reactivation_keys_in_bootstrap_scripts">Reactivation keys in bootstrap scripts</h5>
<div class="paragraph">
<p><a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/reference/admin/bootstrap-script.html">Bootstrap scripts</a> can include an activation key to directly assign software channels, configuration channels, entitlements, etc to a system while registering.</p>
</div>
<div class="paragraph">
<p><a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/reference/systems/system-details/sd-reactivation.html">Reactivation keys</a> can be used to re-register a previously registered client and regain all Uyuni settings. For example, to move clients registered to the Uyuni Server to being registered through an Uyuni Proxy (or Retail Branch Server), when reinstalling, and in some other cases.</p>
</div>
<div class="paragraph">
<p>Uyuni now supports the combination of reactivation keys and bootstrap scripts. Specify a reactivation key in the bootstrap script to re-register systems. For example, if your Uyuni Server has too many clients directly attached and you want to bulk move them to a Uyuni Proxy (or Retail Branch Server).</p>
</div>
</div>
<div class="sect4">
<h5 id="_enable_san_ssl_certificates">Enable SAN SSL certificates</h5>
<div class="paragraph">
<p>Subject Alternative Name (SAN) is an extension to X.509 that allows various values to be associated with a security certificate using a subjectAltName field. This is commonly used to generate SSL certificates that protect multiple domains with a single certificate.</p>
</div>
<div class="paragraph">
<p>These kinds of certificate are becoming popular amongst users with their own Certificate Authority, so we have implemented support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_universe_security_multiverse_restricted_and_backport_channels_for_ubuntu">Universe Security, Multiverse, Restricted, and Backport channels for Ubuntu.</h5>
<div class="paragraph">
<p>The Universe Security, Multiverse, Restricted, and Backport channels for Ubuntu 16.04, 18.04 and 20.04 are now part of <code>spacewalk-common-channels</code>. They can now be added to Uyuni Server for synchronization, and can be added to Ubuntu clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_oracle_linux_uek_channel">Oracle Linux UEK channel</h5>
<div class="paragraph">
<p>The Oracle Unbreakable Enterprise Kernel channels are now available at <code>spacewalk-common-channels</code> for Oracle Linux 6, 7, and 8.</p>
</div>
</div>
<div class="sect4">
<h5 id="_performance_improvements">Performance improvements</h5>
<div class="paragraph">
<p>The add packages to channel feature has been optimized, resulting in a faster experience in the WebUI when adding packages from another channel.</p>
</div>
<div class="paragraph">
<p>A number of database queries and error conditions have been optimized, particularly in pages related to software installation and patching. This has resulted in a faster experience in the WebUI.</p>
</div>
</div>
<div class="sect4">
<h5 id="_redfish_power_management">Redfish power management</h5>
<div class="paragraph">
<p>Redfish is a suite of specifications that deliver an industry standard protocol for the management of servers, storage, networking, and converged infrastructure.</p>
</div>
<div class="paragraph">
<p>Uyuni now supports power management using Redfish, in addition to the existing IPMI power management.</p>
</div>
</div>
<div class="sect4">
<h5 id="_openscap_from_ssm">OpenSCAP from SSM</h5>
<div class="paragraph">
<p>Mass-auditing Salt clients with OpenSCAP is now possible from the System Set Manager.</p>
</div>
</div>
<div class="sect4">
<h5 id="_virtual_network_creation_ui">Virtual network creation UI</h5>
<div class="paragraph">
<p>The virtual networks page allows creating libvirt virtual networks with most supported configuration values.</p>
</div>
</div>
<div class="sect4">
<h5 id="_logging">Logging</h5>
<div class="paragraph">
<p><code>mgr-create-bootstrap-repo</code> will now log under /var/log/rhn/mgr-create-bootstrap-repo and will rotate the log files daily, keeping an history of 30 days. Clean up any leftover log file in /var/log/rhn/mgr-create-bootstrap-repo.* by archiving or deleting them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_4">Monitoring</h5>
<div class="sect5">
<h6 id="_prometheus_exporter_exporter_for_debian">Prometheus Exporter Exporter for Debian</h6>
<div class="paragraph">
<p>The reverse proxy for exporters, which simplifies setting up security and networking policies, is now also available on Debian 9 and Debian 10.</p>
</div>
<div class="paragraph">
<p>With this addition, the Exporter Exporter is now available for almost all operating systems Uyuni supports.</p>
</div>
</div>
<div class="sect5">
<h6 id="_node_exporter_updated_to_1_1_2">Node Exporter Updated to 1.1.2</h6>
<div class="paragraph">
<p>All the changes can be found in the package changelog, or at <a href="https://github.com/prometheus/node_exporter/releases" class="bare">https://github.com/prometheus/node_exporter/releases</a></p>
</div>
<div class="paragraph">
<p>This update applies to SLE 12 and 15, openSUSE Leap 15, CentOS 7 and 8, RHEL 7 and 8, and Oracle 7 and 8.</p>
</div>
<div class="paragraph">
<p>Updates for Ubuntu and Debian will be part of future Uyuni versions.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_02">Version 2021.02</h4>
<div class="sect4">
<h5 id="_recent_salt_cves_remediation">Recent Salt CVEs remediation</h5>
<div class="paragraph">
<p>This release includes the fixes for <a href="https://saltproject.io/security_announcements/active-saltstack-cve-release-2021-feb-25/">CVE-2020-28243, CVE-2020-28972, CVE-2021-3148, CVE-2021-25281, CVE-2021-25282, CVE-2021-25283, CVE-2021-3144, CVE-2021-25284, CVE-2021-3197 and CVE-2020-35662</a></p>
</div>
<div class="paragraph">
<p>The fixes affect your Uyuni Server, Proxy, Retail Branch Server and Salt minions, so we recommend appling the fixes as soon as possible.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_exporters_reverse_proxy_formula_ubuntu_support">Prometheus exporters' reverse proxy formula Ubuntu support</h5>
<div class="paragraph">
<p>The formula for Prometheus exporter&#8217;s formula can now be used with Ubuntu clients.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2021_01">Version 2021.01</h4>
<div class="sect4">
<h5 id="_vendor_change_for_some_java_dependencies_2">Vendor change for some Java dependencies</h5>
<div class="paragraph">
<p>Besides the regular update, you will need to execute the following command to change the vendor for some Java dependencies:</p>
</div>
<div class="paragraph">
<p><code>zypper install --allow-downgrade --allow-vendor-change -f apache-commons-cli-1.4-lp152.1.3.noarch apache-commons-jexl-2.1.1-lp152.1.1.noarch apache-commons-el-1.0-lp152.2.3.1.noarch</code></p>
</div>
<div class="paragraph">
<p>If you do not do this, the WebUI will not start and you will get an HTTP 404 error.</p>
</div>
</div>
<div class="sect4">
<h5 id="_fix_version_comparison_algorithm_for_deb_packages_ubuntu">Fix version comparison algorithm for deb packages (Ubuntu)</h5>
<div class="paragraph">
<p>In some rare cases, Uyuni suggested that users upgrade Ubuntu packages with an older version than the one currently installed (for example, suggesting installation of libtre5-0.8.0-3+deb7u1ubuntu1 instead of libtre5-0.8.0-3ubuntu1).</p>
</div>
<div class="paragraph">
<p>Starting with Uyuni 2021.02, the algorithm used for comparing package versions has been separated for RPM and deb packages. Having two algorithms for comparing packages means that deb packages in Ubuntu are now correctly ordered, and work as successfully as the RPM package algorithm. This means that the rare case explained above no longer occurs, and any proposed update is correct and should be performed.</p>
</div>
<div class="paragraph">
<p>This update also fixes problems syncing Ubuntu and Debian channels and repositories.</p>
</div>
<div class="paragraph">
<p><strong>IMPORTANT:</strong> You need to plan this update. The database changes require updating the EVR information (epoch, version, release) for all packages. Depending on the specifications of your Uyuni installation, the number of channels, and onboarded instances, the services will take between 30 minutes and several hours while the schema is migrated.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_3">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise&#160;15&#160;SP3 family (beta)</p>
</li>
<li>
<p>SLE 15 SP1 LTSS</p>
</li>
<li>
<p>SUSE Linux Enterprise HPC 15 SP2 LTSS</p>
</li>
<li>
<p>SUSE Container as a Service Platform 4.5 (x86_64 and aarch64)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_sap_content">SAP content</h5>
<div class="paragraph">
<p>SUSE Linux Enterprise Server for SAP applications is the best operating system to run your SAP workloads.</p>
</div>
<div class="paragraph">
<p>Tthis release of Uyuni includes content which provides added value to SLES for SAP users:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Documentation: New <code>QuickStart: SAP</code></p>
</li>
<li>
<p>Formulas:</p>
<div class="ulist">
<ul>
<li>
<p><code>saphanabootstrap-formula</code>: SAP HANA deployment Salt formula. This formula can install SAP HANA nodes, enable system replication and configure SLE-HA cluster with the SAPHanaSR resource agent, using standalone Salt or via Uyuni formulas with forms.</p>
</li>
<li>
<p><code>sapnwbootstrap-formula</code>: SAP Netweaver deployment Salt formula. This formula can install SAP Netweaver instances (ASCS, ERS, PAS, AAS) and perform some basic actions to optimize their usage.</p>
</li>
<li>
<p><code>drbd-formula</code>: DRBD deployment Salt formula (requires <code>drbd-utils</code>)</p>
</li>
<li>
<p><code>habootstrap-formula</code>: HA cluster salt deployment formula. This formula can boostrap an HA cluster ((init, join, remove) using standalone Salt or via Uyuni formulas with forms.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Salt state modules:</p>
<div class="ulist">
<ul>
<li>
<p><code>salt-shaptools</code>: Salt modules and states for SAP Applications and SLE-HA components management</p>
</li>
</ul>
</div>
</li>
<li>
<p>Grafana dashboards:</p>
<div class="ulist">
<ul>
<li>
<p><code>grafana-sap-hana-dashboards</code>: Grafana Dashboards displaying metrics about SAP HANA databases.</p>
</li>
<li>
<p><code>grafana-sap-netweaver-dashboards</code>: Grafana Dashboards displaying metrics about a SAP NetWeaver landscape.</p>
</li>
<li>
<p><code>grafana-ha-cluster-dashboards</code>: Grafana Dashboards displaying metrics about a Pacemaker/Corosync High Availability Cluster.</p>
</li>
<li>
<p><code>grafana-sap-providers</code>: Automated configuration provisioners used by other packages to enable zero-config installation of Grafana dashboards.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The formulas and Salt state modules are included in the Uyuni Server channel. The Grafana dashboards are included in the Uyuni Client Tools for SLE 12 and SLE 15 channels.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cpu_mitigations_formula">CPU mitigations formula</h5>
<div class="paragraph">
<p>Unsupported clients are now handled gracefully and mitigations have been added for the Xen hypervisor.</p>
</div>
</div>
<div class="sect4">
<h5 id="_vendor_change_on_sp_migration">Vendor change on SP migration</h5>
<div class="paragraph">
<p>Vendor change (changing the repository where a package comes from) can now optionally be enabled during service pack migration.</p>
</div>
<div class="paragraph">
<p>This feature is useful where the client system is using unofficial packages and you want to move back to official packages, or to switch from an official package to a third-party version of a package. Instead of performing the SP migration within the same vendor and then manually installing the package from the new vendor, you can now do everything in a single action.</p>
</div>
<div class="paragraph">
<p>This feature is available for SUSE Linux Enterprise 12 or newer, and can also be used to migrate from openSUSE Leap 15 to SUSE Linux Enterprise 15.</p>
</div>
</div>
<div class="sect4">
<h5 id="_autoinstallation_of_older_operating_systems">Autoinstallation of older operating systems</h5>
<div class="paragraph">
<p>Autoinstallation provisioning is now compatible with GRUB and ELILO in addition to GRUB2 only, which is useful when provisioning SLES 11 SP4 and RHEL 6 (and clones) systems.</p>
</div>
</div>
<div class="sect4">
<h5 id="_oracle_linux_uln_repositories">Oracle Linux ULN repositories</h5>
<div class="paragraph">
<p>Oracle Unbreakable Linux Network repositories are now supported in Software &gt; Manage &gt; Repositories. Oracle Linux users with a subscription from Oracle can use this to manually add the repositories for KSplice and others.</p>
</div>
</div>
<div class="sect4">
<h5 id="_centos_6_repositories">CentOS 6 repositories</h5>
<div class="paragraph">
<p>CentOS 6 reached end-of-life on November 30th, 2020, and the CentOS Project moved its repositories to the vault archive. URLs at <code>spacewalk-common-channels</code> for new Uyuni Servers. For existing Uyuni servers the database migration will take care of updating the URLs at the database.</p>
</div>
<div class="paragraph">
<p>Other operating systems in the same class also reached end-of-life but require no change, since they will continue to work as-is: Oracle Linux 6 (URLs not changed) and Red Hat Enterprise Linux 6 (URLs are provided by users).</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_countries_and_timezones">New countries and timezones</h5>
<div class="paragraph">
<p>The countries and timezones list have been refreshed, adapting to the latest timezone and geopolitical changes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cluster_management_upgrade_plan">Cluster management: upgrade plan</h5>
<div class="paragraph">
<p>When upgrading a cluster, the upgrade plan is now shown in the WebUI. This makes it easier to verify that an upgrade will be conducted as expected.</p>
</div>
</div>
<div class="sect4">
<h5 id="_yomi_refresh">Yomi refresh</h5>
<div class="paragraph">
<p>The formulas that make autoinstallation of SLES and openSUSE systems simpler have been upgraded to the latest version provided by the Yomi project. The updated formulas are more intuitive, harder to misuse, and allow you to specify additional advanced options.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uyuni_server_connections_are_always_and_only_secure">Uyuni Server connections are always and only secure</h5>
<div class="paragraph">
<p>The WebUI and the CLI commands no longer provide an option to disable SSL. The option was in fact already obsolete and not working.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_updates">Monitoring updates</h5>
<div class="sect5">
<h6 id="_grafana_7_3_1">Grafana 7.3.1</h6>
<div class="paragraph">
<p>Grafana has been updated from version 7.1.5 to version 7.3.1 which brings a number of bugfixes and improvements.</p>
</div>
<div class="paragraph">
<p>Notable improvements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add monitoring mixing for Grafana.</p>
</li>
<li>
<p>New Cloudwatch metrics</p>
</li>
<li>
<p>Elasticsearch: Support multiple pipeline aggregations for a query.</p>
</li>
<li>
<p>Support request cancellation properly for PostgreSQL, Loki and Prometheus</p>
</li>
<li>
<p>Postgres: Support Unix socket for host</p>
</li>
<li>
<p>Loki: Re-introduce running of instant queries</p>
</li>
<li>
<p>Prometheus: Support request cancellation properly. Add $__rate_interval variable</p>
</li>
<li>
<p>API improvements</p>
</li>
<li>
<p>Variables: enables cancel for slow query variables queries</p>
</li>
<li>
<p>Table: Adds column filtering</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Breaking changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CloudWatch: The AWS CloudWatch data source&#8217;s authentication scheme has changed. See the upgrade notes for details and how this may affect you.</p>
</li>
<li>
<p>Units: The date time units <code>YYYY-MM-DD HH:mm:ss</code> and <code>MM/DD/YYYY h:mm:ss a</code> have been renamed to <code>Datetime ISO</code> and <code>Datetime US</code> respectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A detailed changelog is available at <a href="https://community.grafana.com/t/release-notes-v7-3-x/37993">upstream</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_prometheus_2_22_1">Prometheus 2.22.1</h6>
<div class="paragraph">
<p>The core of our monitoring solution, Prometheus, has been updated from version 2.18.0 to version 2.22.1, which brings a number of bugfixes and improvement.</p>
</div>
<div class="paragraph">
<p>Notable improvements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Web: Remove APIv2.</p>
</li>
<li>
<p>React UI: Implement missing TSDB head stats section.</p>
</li>
<li>
<p>UI: Add Collapse all button to targets page.</p>
</li>
<li>
<p>UI: Clarify alert state toggle via checkbox icon.</p>
</li>
<li>
<p>Gracefully handle unknown WAL record types.</p>
</li>
<li>
<p>Issue a warning for 64-bit systems running 32-bit binaries.</p>
</li>
<li>
<p>TSDB: Memory-map full chunks of Head (in-memory) block from disk. This reduces memory footprint and makes restarts faster.</p>
</li>
<li>
<p>TSDB: Reduced contention in isolation for high load.</p>
</li>
<li>
<p>Discovery: Added discovery support for Triton global zones.</p>
</li>
<li>
<p>Remote Read: Added <code>prometheus_remote_storage_remote_read_queries_total</code> counter to count the total number of remote read queries.</p>
</li>
<li>
<p>Added time range parameters for label names and label values API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Detail changelogs for each version between 2.18.0 and 2.22.1 can be found at:
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.22.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.22.1</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.22.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.22.0</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.19.3" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.19.3</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.19.2" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.19.2</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.19.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.19.1</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.19.0" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.19.0</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.18.2" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.18.2</a>
* <a href="https://github.com/prometheus/prometheus/releases/tag/v2.18.1" class="bare">https://github.com/prometheus/prometheus/releases/tag/v2.18.1</a></p>
</div>
</div>
<div class="sect5">
<h6 id="_prometheus_exporter_exporter_for_ubuntu_18_0420_04_and_debian_910">Prometheus Exporter Exporter for Ubuntu 18.04/20.04 and Debian 9/10</h6>
<div class="paragraph">
<p>The Reverse-proxy Exporter Exporter, which allows you to expose a single port no matter how many exporters are running on the client, is now available for 18.04/20.04 and Debian 9/10.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_11">Version 2020.11</h4>
<div class="sect4">
<h5 id="_recent_salt_cves_remediation_2">Recent Salt CVEs remediation</h5>
<div class="paragraph">
<p>This release includes the fixes for <a href="https://www.saltstack.com/blog/on-november-3-2020-saltstack-publicly-disclosed-three-new-cves/">CVE-2020-16846, CVE-2020-17490 and CVE-2020-25592</a> that we already released on November 16th for Uyuni 2020.09.</p>
</div>
<div class="paragraph">
<p>If you did not apply the patch already, update your Uyuni Server, Proxy, Retail Branch Server and Salt minions as soon as possible.</p>
</div>
</div>
<div class="sect4">
<h5 id="_centos_78_ppc64le_support">CentOS 7/8 ppc64le support</h5>
<div class="paragraph">
<p>Uyuni can now manage CentOS7 and CentOS8 ppc64le clients. Supported features are the same available for x86_64 clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_exporter_exporter_for_centos_oracle_and_rhel_7_and_8">Prometheus Exporter Exporter for CentOS, Oracle and RHEL 7 and 8</h5>
<div class="paragraph">
<p>The reverse-proxy Exporter Exporter, which allows you to expose a single port no matter how many exporters are running on the client, is now available for CentOS, Oracle and RHEL 7 and 8 for both x86_64 and ppc64le.</p>
</div>
</div>
<div class="sect4">
<h5 id="_node_exporter_updated_to_version_1_0_1_for_most_operating_systems">Node Exporter updated to version 1.0.1 for most operating systems</h5>
<div class="paragraph">
<p>The following operating systems will receive version 1.0.1:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.1 and 15.2</p>
</li>
<li>
<p>SLE12 (all service packs)</p>
</li>
<li>
<p>SLE15 (all service packs)</p>
</li>
<li>
<p>Ubuntu 20.04</p>
</li>
<li>
<p>CentOS/Oracle/RHEL 8</p>
</li>
<li>
<p>CentOS/Oracle/RHEL 7</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All the changes can be found at the changelog for the package, or at <a href="https://github.com/prometheus/node_exporter/releases/tag/v1.0.0" class="bare">https://github.com/prometheus/node_exporter/releases/tag/v1.0.0</a> and <a href="https://github.com/prometheus/node_exporter/releases/tag/v1.0.1" class="bare">https://github.com/prometheus/node_exporter/releases/tag/v1.0.1</a></p>
</div>
<div class="paragraph">
<p>Keep in mind this new version includes some breaking changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The netdev collector CLI argument <code>--collector.netdev.ignored-devices</code> was renamed to <code>--collector.netdev.device-blacklist</code> in order to conform with the systemd collector.</p>
</li>
<li>
<p>The label named state on <code>node_systemd_service_restart_total</code> metrics was changed to name to better describe the metric.</p>
</li>
<li>
<p>Refactoring of the mdadm collector changes several metrics:</p>
</li>
<li>
<p><code>node_md_disks_active</code> is removed</p>
</li>
<li>
<p><code>node_md_disks</code> now has a state label for "fail", "spare", "active" disks.</p>
</li>
<li>
<p><code>node_md_is_active</code> is replaced by node_md_state with a state set of "active", "inactive", "recovering", "resync".</p>
</li>
<li>
<p>Additional label mountaddr added to NFS device metrics to distinguish mounts from the same URL, but different IP addresses.</p>
</li>
<li>
<p>Metrics <code>node_cpu_scaling_frequency_min_hrts</code> and <code>node_cpu_scaling_frequency_max_hrts</code> of the cpufreq collector were renamed to <code>node_cpu_scaling_frequency_min_hertz</code> and <code>node_cpu_scaling_frequency_max_hertz</code>.</p>
</li>
<li>
<p>Collectors that are enabled, but are unable to find data to collect, now return <code>0</code> for <code>node_scrape_collector_success</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_web_ui_themes">Web UI themes</h5>
<div class="paragraph">
<p>Uyuni now supports themes. Users can select what theme they want to use in the User Preferences page in the Web UI. Initially, we are providing three themes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SUSE Manager light: default light, low-contrast theme</p>
</li>
<li>
<p>SUSE Manager dark: high-contrast theme based on the light theme</p>
</li>
<li>
<p>Uyuni: SUSE Manager 4.0 and Uyuni theme. Also high-contrast.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Administrators can globally disable themes in <code>/etc/rhn/rhn.conf</code> by listing which themes they want to allow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># susemanager-light,susemanager-dark,uyuni
web.themes = susemanager-light,susemanager-dark,uyuni
web.theme_default = susemanager-light</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_exporter_exporter">Prometheus Exporter Exporter</h5>
<div class="paragraph">
<p>The reverse-proxy Exporter Exporter, which allows you to expose a single port no matter how many exporters are running on the client, is now available for Ubuntu 20.04 LTS.</p>
</div>
</div>
<div class="sect4">
<h5 id="_xml_rpc_power_management_api">XML-RPC power management API</h5>
<div class="paragraph">
<p>New APIs have been added to do IPMI power management. Redfish power management will be included in a future maintenance update.</p>
</div>
</div>
<div class="sect4">
<h5 id="_third_party_errata_information_on_vendor_channels">Third-party errata information on vendor channels</h5>
<div class="paragraph">
<p>It is now possible to add third-party errata information to CentOS and Ubuntu 20.04 LTS channels without cloning them, as described at the <code>CentOS Clients</code> section of the <code>Client Configuration Guide</code>.</p>
</div>
<div class="paragraph">
<p>The known issue present in previous releases of Uyuni has been fixed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_bootstrap_repositories_no_longer_flushed_by_default">Bootstrap repositories no longer flushed by default</h5>
<div class="paragraph">
<p>In Uyuni 2020.03, we automated the generation of bootstrap repositories on channel sync. Bootstrap repositories were not only autogenerated but also autoflushed, which caused disappearing packages problems to some users (e. g., in the case of multi-architecture bootstrap repositories).</p>
</div>
<div class="paragraph">
<p>Starting with Uyuni 2020.11, bootstrap repositories are not flushed by default. If you want to save some disk space, you can manually flush them using <code>mgr-create-bootstrap-repo --flush</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dnssec_enabled_by_default_by_bind_update">DNSSEC enabled by default by bind update</h5>
<div class="paragraph">
<p>With the update of ISC bind to version 9.16.6 on openSUSE Leap 15.1 and openSUSE Leap 15.2, DNSSEC is now enabled by default, which may cause DNS resolution to fail unless there are fallback DNS servers.</p>
</div>
<div class="paragraph">
<p>The Retail Branch Server formula has been modified to disable DNSSEC, and will be updated to support DNSSEC in a future release of Uyuni. For existing Retail Branch Servers, you can disable DNSSEC to retain the same behaviour ISC bind showed until version 9.11.2. To do that, edit <code>/etc/bind</code> and set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>dnssec-enable no; dnssec-validation no;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_virtualization_creation_of_virtual_machines_with_yomi_kickstart_or_autoyast_profiles">Virtualization: Creation of virtual machines with Yomi, KickStart or AutoYaST profiles</h5>
<div class="paragraph">
<p>Creating a virtual machine using the Web UI and the Salt virt states can now use a defined Autoinstallation profile, any defined cobbler profile like the Yomi one. The virtual machine can also be created using PXE or by adding a CDROM device with an attached ISO image.</p>
</div>
</div>
<div class="sect4">
<h5 id="_japanese_translation">Japanese translation</h5>
<div class="paragraph">
<p>The Uyuni Web UI and command-line tools are now available in Japanese thanks to the upstream <a href="https://uyuni-project.org">Uyuni Community</a>.</p>
</div>
<div class="paragraph">
<p>Since this is a community translation, it is not enabled by default. In order to allow users to select Japanese in their User Preferences in the Web UI, add the following line to <code>/etc/rhn/rhn.conf</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java.supported_locales=en_US,ja</code></pre>
</div>
</div>
<div class="paragraph">
<p>A restart of Tomcat is required.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_09">Version 2020.09</h4>
<div class="sect4">
<h5 id="_uyuni_hub_xml_rpc_api_is_now_supported">Uyuni Hub XML-RPC API is now supported</h5>
<div class="paragraph">
<p>Starting with Uyuni 2020.09, the Uyuni Hub XML-RPC API is no longer considered a tech preview, but a fully supported feature.</p>
</div>
<div class="paragraph">
<p>This means that multiple peripheral servers (other Uyuni Servers) can be managed from a single Hub node, as a supported feature.</p>
</div>
</div>
<div class="sect4">
<h5 id="_formula_for_peripheral_server_management_technology_preview">Formula for peripheral server management (Technology Preview)</h5>
<div class="paragraph">
<p>This version of Uyuni includes formulas that can be installed on a Hub node to manage the following on peripheral servers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Organizations</p>
</li>
<li>
<p>System groups in organizations</p>
</li>
<li>
<p>Users in organizations</p>
</li>
<li>
<p>Access to system groups</p>
</li>
<li>
<p>Access to software channels</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use the formula, run <code>zypper in uyuni-config-formula</code> on the Hub node, and then enable the formula for the peripheral servers, and use it to manage them.</p>
</div>
<div class="paragraph">
<p>This feature will be documented at the <code>Large Deployments Guide</code> in a future Uyuni release.</p>
</div>
</div>
<div class="sect4">
<h5 id="_maintenance_windows">Maintenance windows</h5>
<div class="paragraph">
<p>The new maintenance windows feature allows you to schedule sensitive actions (like package installation or upgrade) to occur during a scheduled one-time or recurrent maintenance window period on selected systems. These actions are forbidden to be executed outside of the specified period.</p>
</div>
<div class="paragraph">
<p>Maintenance windows are defined using iCalendar data, which can be exported from your favorite calendaring tool (Microsoft Outlook, KDE Organizer, Google Calendar&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>For more information about Maintenance windows check the <code>Administration Guide</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_reverse_proxies">Monitoring reverse proxies</h5>
<div class="paragraph">
<p>Prometheus fetches metrics using a pull mechanism, so the server must be able to establish TCP connections to each exporter on the monitored clients.</p>
</div>
<div class="paragraph">
<p>The new monitoring reverse proxies feature allows you to simplify your firewall configuration. By installing the reverse proxy on the clients you can get all the metrics for all the exporters on a single TCP port.</p>
</div>
<div class="paragraph">
<p>Check the <code>Monitoring</code> section of the <code>Administration Guide</code> for information about how to set up.</p>
</div>
<div class="paragraph">
<p>Monitoring reverse proxies are only available for SLE12, SLE15, and openSUSE Leap 15 families of products, and not yet available for other operating system platforms, including Red Hat Enterprise Linux and Ubuntu.
Support for other operating system platforms will come in future releases of Uyuni</p>
</div>
</div>
<div class="sect4">
<h5 id="_added_new_type_of_virtual_host_manager_nutanix_ahv">Added new type of "Virtual Host Manager": Nutanix AHV</h5>
<div class="paragraph">
<p>In Uyuni 2020.09, we have added a new type of Virtual Host Manager in order to gather virtual machines from Nutanix AHV infrastructure.</p>
</div>
<div class="paragraph">
<p>Creating a VHM to gather virtual instances from the Nutanix AHV enables the subscription matcher to match <code>1-2 virtual machines</code> subscriptions for those instances that are running on the same virtualization host.</p>
</div>
<div class="paragraph">
<p>For more information about how to setup this new type, see the <code>Client Configuration Guide</code></p>
</div>
<div class="paragraph">
<p>Note that this feature requires the <code>virtual-host-gatherer-Nutanix</code> package.</p>
</div>
</div>
<div class="sect4">
<h5 id="_grafana_7_1_5">Grafana 7.1.5</h5>
<div class="paragraph">
<p>Grafana has been updated from version 7.0.3 to 7.1.5 which brings a number of bugfixes and improvements.</p>
</div>
<div class="paragraph">
<p>Notable improvements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Stats: Stop counting the same user multiple times.</p>
</li>
<li>
<p>Field overrides: Filter by field name using regex.</p>
</li>
<li>
<p>AzureMonitor: map more units.</p>
</li>
<li>
<p>Explore: Don&#8217;t run queries on datasource change.</p>
</li>
<li>
<p>Graph: Support setting field unit &amp; override data source (automatic) unit.</p>
</li>
<li>
<p>Explore: Unification of logs/metrics/traces user interface</p>
</li>
<li>
<p>Table: JSON Cell should try to convert strings to JSON</p>
</li>
<li>
<p>Variables: enables cancel for slow query variables queries.</p>
</li>
<li>
<p>TimeZone: unify the time zone pickers to one that can rule them all.</p>
</li>
<li>
<p>Search: support URL query params.</p>
</li>
<li>
<p>Grafana-UI: Add FileUpload.</p>
</li>
<li>
<p>TablePanel: Sort numbers correctly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A detailed changelog is available <a href="https://community.grafana.com/t/release-notes-v7-1-x/32967">upstream</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_4">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise Real Time 15 SP2</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_07">Version 2020.07</h4>
<div class="sect4">
<h5 id="_upgrade_notes_2">Upgrade notes</h5>
<div class="paragraph">
<p><strong>WARNING:</strong> Check "Update from previous versions of Uyuni Server" section below for details, as this release updates the base OS from openSUSE Leap 15.1 to openSUSE Leap 15.2, and there are special steps required.</p>
</div>
<div class="paragraph">
<p>The migration will be performed allowing vendor changes, so this upgrade will fix the issues with python3-psycopg2 mentioned at Uyuni Server 2020.05 release notes. Therefore you will not need to perform the manual steps mentioned there.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_3000_0">Salt 3000.0</h5>
<div class="paragraph">
<p>Salt has been upgraded to upstream version 3000, plus a number of patches, backports and enhancements by SUSE, for the Uyuni Server, Proxy and Client Tools. In particular, CVE-2020-11651 and CVE-2020-11652 fixes are included in our release.</p>
</div>
<div class="paragraph">
<p>As part of this upgrade, cryptography is now managed by the Python-M2Crypto library (which is itself based on the well-known OpenSSL library).</p>
</div>
<div class="paragraph">
<p>We intend to regularly upgrade Salt to more recent versions.</p>
</div>
<div class="paragraph">
<p>For more details about changes in your manually-created Salt states, see the <a href="https://docs.saltstack.com/en/latest/topics/releases/3000.html">Salt 3000 upstream release notes</a>.</p>
</div>
<div class="paragraph">
<p>Please note Salt 3000 is the last version of Salt which will support the old syntax of the <code>module.run</code> module.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_mgrcompat_module_run_custom_compatibility_state_for_salt_is_available_for_registered_systems">New "mgrcompat.module_run" custom compatibility state for Salt is available for registered systems.</h5>
<div class="paragraph">
<p><strong>WARNING - POSSIBLE ACTION REQUIRED:</strong> The syntax for Salt <code>module.run</code> state has changed starting in next Salt 3001 (Sodium) release. This means, any custom SLS file or "Configuration State Channel" that is using <code>module.run</code> state needs to be adapted to fit into the new syntax. This turns even more problematic when you have minions with different Salt versions, because some minions would accept the new syntax but others would fail with it, so the SLS files would require extra logic to handle the different Salt versions &amp; configurations.</p>
</div>
<div class="paragraph">
<p>To make this process much easier, we have introduced this new <code>mgrcompat.module_run</code> compatibility state, which is essentially a wrapper of <code>module.run</code> which accept the deprecated syntax and takes care of tailoring the parameters for the actual <code>module.run</code> if necesasary according to the particular minion version and configuration. The only thing to do would be to change <code>module.run to `mgrcompat.module_run</code> in your SLS files and "Configuration State Channels".</p>
</div>
<div class="paragraph">
<p>As an example of this, a non-migrated state like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>my_module_run_state:
  module.run:
    - name: mymodule.func
    - m_name: foobar
    - other: 1234</code></pre>
</div>
</div>
<div class="paragraph">
<p>would be adapted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>my_module_run_state:
  mgrcompat.module_run:
    - name: mymodule.func
    - m_name: foobar
    - other: 1234</code></pre>
</div>
</div>
<div class="paragraph">
<p>We <strong>really</strong> encourage users and customer to start migrating their Salt States to use <code>mgrcompat.module_run</code> now before Salt 3001 (Sodium) release. Once Salt 3001 comes, those states will simply fail.</p>
</div>
</div>
<div class="sect4">
<h5 id="_postgresql_12">PostgreSQL 12</h5>
<div class="paragraph">
<p>The database engine has been updated from PostgreSQL 10 to PostgreSQL 12, which brings a number of performance and reliability improvements. A detailed changelog is available <a href="https://www.postgresql.org/docs/release/12.2/">upstream</a>.</p>
</div>
<div class="paragraph">
<p>To prevent inconsistent configurations and data on upgrade or update, Uyuni 2020.06 will refuse to start until the database migration from PostgreSQL 10 to PostgreSQL 12 has completed successfully.</p>
</div>
</div>
<div class="sect4">
<h5 id="_base_system_upgrade_2">Base System Upgrade</h5>
<div class="paragraph">
<p>The base system was upgraded to openSUSE Leap&#160;15.2.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_5">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>Ubuntu 20.04 LTS</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_ubuntu_20_04_lts">Ubuntu 20.04 LTS</h5>
<div class="paragraph">
<p>Starting with Uyuni&#160; 2020.07, Ubuntu 2020.04 LTS is supported as a client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_hwdata_vendor_change_for_opensuse_leap_15_1_clients">hwdata vendor change for openSUSE Leap 15.1 clients</h5>
<div class="paragraph">
<p>package <code>hwdata</code> now comes from from openSUSE Leap 15.1 and not from the client tools.</p>
</div>
<div class="paragraph">
<p>In oder to get updated versions, the following command must be executed on the clients:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>zypper in --allow-vendor-change hwdata</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is recommended to execute this as a remote command.</p>
</div>
<div class="paragraph">
<p>This change is mandatory if you intend to use the openSUSE Leap 15.1 as a KVM virtualization host.</p>
</div>
<div class="paragraph">
<p>This does not affect openSUSE Leap 15.2 as it will always have <code>hwdata</code> from the distribution.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_06">Version 2020.06</h4>
<div class="sect4">
<h5 id="_oracle_linux">Oracle Linux</h5>
<div class="paragraph">
<p>Oracle Linux 6, 7 and 8 can now be managed with salt and it will support the same features CentOS 6, 7 and 8 support.</p>
</div>
<div class="paragraph">
<p>The channels can be managed using <code>spacewalk-common-channels</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_third_party_gpg_keys_now_included">Third-party GPG keys now included</h5>
<div class="paragraph">
<p>Enabling verification of non-SUSE product metadata used to require manual acceptance, and sometimes even manual installation, of the third-party keys for products available from the product tree. Alternatively, an option to not verify the GPG key signature was there.</p>
</div>
<div class="paragraph">
<p>Uyuni 2020.06 now includes the GPG keys used to sign packages and/or metadata by other the following vendors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CentOS</p>
</li>
<li>
<p>Oracle Linux</p>
</li>
<li>
<p>Ubuntu</p>
</li>
<li>
<p>MicroFocus Open Enterprise Server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Manual acceptance of those keys is no longer required for GPG signature verification for those products to work.</p>
</div>
<div class="paragraph">
<p>Manual acceptance of GPG keys for any other product or repository is still required for security reasons.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cluster_management">Cluster Management</h5>
<div class="paragraph">
<p>As you modernize your IT landscape and make use of Software Defined Infrastructure stacks based on technologies like Kubernetes and Ceph, your focus of managing the IT infrastructure has to move from managing individual Linux servers and VMs to managing infrastructure clusters. Multiple cluster types will be supported in coming releases, with Uyuni 2020.06 initially providing support for SUSE CaaSP.</p>
</div>
<div class="paragraph">
<p>Computing is increasingly being a more complex architecure: redundant servers, scale out, high-availability, etc where you deploy different kinds of clusters, such as SUSE CaaS Platform, SUSE Enterprise Storage or SAP. Managing those as a whole piece of infrastructure instead of as discrete nodes puts you in charge.</p>
</div>
<div class="paragraph">
<p>Uyuni 2020.06 implements cluster management of SUSE CaaS Platform clusters. Uyuni works hand-in-hand with CaaS Platform to make sure that all cluster operations are issued properly.</p>
</div>
<div class="paragraph">
<p>The following actions are currently supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Register an existing cluster to Uyuni</p>
</li>
<li>
<p>Add or remove nodes to the cluster</p>
</li>
<li>
<p>Promote SLES system to managing node</p>
</li>
<li>
<p>Upgrade the cluster</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deployment of CaaS Platform clusters from scratch will be supported in an upcoming version of Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dropped_feature_unpublished_patches">Dropped feature: Unpublished patches</h5>
<div class="paragraph">
<p>The Unpublished Patches feature has been dropped in Uyuni 2020.05.</p>
</div>
<div class="paragraph">
<p>This was a very old feature which originated more than 15 years ago when Spacewalk was used internally by vendors to manage patches before making them available to their customers. This functionality has been superseded a long (more than 10 years) time ago by other features in Uyuni for sysadmins, and by tools such as the Open Build Service for operating system vendors.</p>
</div>
<div class="paragraph">
<p>After a consultation period with users both in the upstream Uyuni community and the SUSE Manager community, we received no feedback against the removal and executed on it.</p>
</div>
<div class="paragraph">
<p>This will help us realize even further performance improvements in several areas, including the commonly-used Content Lifecycle Management build and promotion operations.</p>
</div>
<div class="paragraph">
<p>If you still have any unpublished patches, make sure you publish them with Uyuni 2020.05 before migrating to Uyuni 2020.06.</p>
</div>
<div class="sect5">
<h6 id="_api_breakage">API breakage</h6>
<div class="paragraph">
<p>With the removal of the unpublished patches feature, the API specification changed as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Method <code>errata.listUnpublishedErrata</code> was removed</p>
</li>
<li>
<p>Method <code>errata.create</code> has one less parameter (the <code>publish</code> boolean, now always <code>true</code>) and it is now mandatory to specify at least one channel label in the last parameter (<code>channelLabels</code>). Previously specifying at least one channel label was mandatory only if <code>publish</code> was set to true.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Therefore some API calls that worked in Uyuni 2020.05 and earlier may need changes for Uyuni 2020.06 and later.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_05">Version 2020.05</h4>
<div class="sect4">
<h5 id="_repository_syncing_performance_improvements">Repository syncing performance improvements</h5>
<div class="paragraph">
<p>Repository synchronization has been optimized to perform faster than in previous versions. This applies to if the synchronization is triggered in the WebUI, or from the command prompt using the <code>spacewalk-repo-sync command</code>.
It also applies whether the synchronization is invoked manually, or automatically as part of product or custom channel synchronizations. The performance improvement is up six times faster than previous versions, but the improvement depends mostly on your hardware setup, especially the number of CPUs, and how many packages are being synchronized.</p>
</div>
<div class="paragraph">
<p><strong>IMPORTANT:</strong> This requires a vendor change for the package <code>python3-psycopg2-2.8.4-2.1.uyuni.x86_64</code>.</p>
</div>
<div class="paragraph">
<p>After running <code>zypper update</code> you will need force the vendor change with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>zypper in python3-psycopg2-2.8.4-2.1.uyuni.x86_64</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then update again again, so the <code>spacewalk-backend</code> subpackages are updated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>zypper update</code></pre>
</div>
</div>
<div class="paragraph">
<p>As soon as <code>python3-psycopg2-2.8.4</code> is part of openSUSE Leap 15.1 we will provide instructions use the openSUSE version again.</p>
</div>
</div>
<div class="sect4">
<h5 id="_image_profiles_key_value_pairs_supported_as_arguments_for_docker_build">Image profiles key-value pairs supported as arguments for Docker build</h5>
<div class="paragraph">
<p>Custom info key-value pairs defined in image profiles are now passed to the Docker build command as build arguments. They can be accessed in Dockerfiles using the ARG command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_service_pack_migrations_run_a_real_migration_after_a_successful_dry_run">Service pack migrations: run a real migration after a successful dry-run</h5>
<div class="paragraph">
<p>After a Service Pack migration dry-run, if the result is a success you will get a "Run migration" button in the event history to retrieve the "dry-run" settings and confirm the migration with these settings.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_04">Version 2020.04</h4>
<div class="sect4">
<h5 id="_recurring_actions">Recurring actions</h5>
<div class="paragraph">
<p>Scheduling recurring actions allows you to manage schedules for automated recurring highstate execution on client, group, and organization level depending on the frequency you choose.</p>
</div>
<div class="paragraph">
<p>This is useful, for example, to apply highstates on a regular schedule and ensure configurations are enforced.</p>
</div>
<div class="paragraph">
<p>For more information, see the <code>Administration Guide</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_bootstrapping_salt_clients_with_a_private_ssh_key_from_api">Bootstrapping Salt Clients with a Private SSH key (from API)</h5>
<div class="paragraph">
<p>Before this release, only password authentication was available for bootstrapping Salt clients from the Server.</p>
</div>
<div class="paragraph">
<p>Now SSH private key authentication is available, including use of a passphrase on the private key. For Uyuni 2020.04 this is only available from the API. It will be made available from the WebUI in a future release.</p>
</div>
<div class="paragraph">
<p>For security reasons, the private key is stored at the Uyuni Server only for the bootstrap procedure, and removed after bootstrapping is complete. The private key must be provided for each bootstrap.</p>
</div>
<div class="paragraph">
<p>The new method <code>bootstrapWithPrivateSshKey</code> in the namespace <code>system</code> is documented in the <code>APIDocumentation</code>.</p>
</div>
<div class="paragraph">
<p>You can use this example by adjusting the <code>client</code>, <code>keyfile</code>, <code>passphrase</code>, <code>MANAGER_URL</code>, <code>MANAGER_LOGIN</code> and <code>MANAGER_PASSWORD</code> according to your environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#!/usr/bin/python
import xmlrpclib

client = '192.168.1.2'
keyfile = '/path/to/priv/key'
passphrase = '' # empty string = no passphrase

conn = xmlrpclib.Server(MANAGER_URL, verbose=0)
key = conn.auth.login(MANAGER_LOGIN, MANAGER_PASSWORD)

with open(keyfile, 'r') as file:
  data = file.read()
  conn.system.bootstrapWithPrivateSshKey(key, server, 22, 'root', data, passphrase, '', False);
conn.auth.logout(key)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_centos8_content_lifecycle_management_better_feedback_with_appstreams">CentOS8 Content Lifecycle Management: Better Feedback with Appstreams</h5>
<div class="paragraph">
<p>The content lifecycle project page in the WebUI now has improved feedback messages about module filters, including missing or conflicting modules, and dependency resolution problems. The messages are in the form of errors that require the user to fix configurations, or warnings about potential problems.</p>
</div>
</div>
<div class="sect4">
<h5 id="_automated_schema_database_upgrades_and_failure_security_mechanism">Automated Schema Database Upgrades and Failure Security Mechanism</h5>
<div class="paragraph">
<p>Database schema upgrades are now applied automatically during services startup, so there is no need to call <code>spacewalk-schema-upgrade</code> manually. A security mechanism has been implemented that prevents Uyuni Services from starting if the schema upgrade has failed.</p>
</div>
<div class="paragraph">
<p>When this occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When you run <code>spacewalk-service start</code>,  it will fail and show an output with information about the error.</p>
</li>
<li>
<p>All services, including the Apache service, will not start. This will also cause the WebUI to be unavailable.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_large_deployments_guide_draft">Large Deployments Guide (draft)</h5>
<div class="paragraph">
<p>Uyuni is designed by default to work on small and medium scale installations.</p>
</div>
<div class="paragraph">
<p>For installations with more than 1000 clients per Uyuni Server, adequate hardware sizing and parameter tuning must be performed, and the new guide provides information about how to do it.</p>
</div>
<div class="paragraph">
<p>Keep in mind there is no hard maximum number of supported systems. Many factors can affect how many clients can reliably be used in a particular installation. Factors can include which features are used, and how the hardware and systems are configured.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uyuni_hub_documentation">Uyuni Hub documentation</h5>
<div class="paragraph">
<p>The Uyuni Hub announced for 2020.03 has now documentation available as part of the <code>Large Deployments Guide</code> (section <code>Multiple Servers with Hub</code>).</p>
</div>
<div class="paragraph">
<p>This is a draft release, so please provide feedback using the Resources menu in the <a href="https://www.uyuni-project.org/uyuni-docs">online documentation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_public_cloud_quickstart_guide_draft">Public Cloud QuickStart Guide (draft)</h5>
<div class="paragraph">
<p>This new draft guide shows you the fastest way to get Uyuni up and running in a public cloud. It includes instructions for Amazon Web Services, Microsoft Azure, and Google Cloud Engine.</p>
</div>
<div class="paragraph">
<p>This is a draft release, so please provide feedback using the <code>Resources</code> menu in the <a href="https://www.uyuni-project.org/uyuni-docs">online documentation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_caasp_grafana_dashboads">CaaSP Grafana Dashboads</h5>
<div class="paragraph">
<p>CaaSP specific Grafana dashboards have been integrated and can be deployed via the UI.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_federation_support_in_formulas_with_forms">Prometheus Federation Support in Formulas with Forms</h5>
<div class="paragraph">
<p>The new version of the Prometheus formula allows configuring federation and pulling relevant metrics from Prometheus instances to provide a global monitoring view.</p>
</div>
<div class="paragraph">
<p>Note that suitable recording rules have to be configured on the Prometheus instances (for example at CaaSP Prometheus instances).</p>
</div>
<div class="paragraph">
<p>For more information about Prometheus federation, check the <a href="https://prometheus.io/docs/prometheus/latest/federation/">official documentation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pre_configured_default_alerting_rules">Pre-configured default alerting rules</h5>
<div class="paragraph">
<p>A default set of alerting rules have been added to monitor the Prometheus instances themselves (meta-monitoring) and the availability of configured targets. The rules can be disabled in the WebUI.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_exporters_for_centos8_x86_64">Prometheus Exporters for CentOS8 x86_64</h5>
<div class="paragraph">
<p>We now provide these Prometheus exporters as packages for CentOS8 x86_64 (compatible also with similar systems such as RHEL8):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/prometheus/node_exporter">Node exporter</a> - Hardware and operating system metrics</p>
</li>
<li>
<p><a href="https://github.com/wrouesnel/postgres_exporter">PostgreSQL exporter</a> - PostgreSQL database metrics</p>
</li>
<li>
<p><a href="https://github.com/lusitaniae/apache_exporter">Apache exporter</a> - Apache HTTP server metrics</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_node_exporter_updated_to_0_18_1">Node Exporter Updated to 0.18.1</h5>
<div class="paragraph">
<p>All the changes can be found at the changelog for the package, or at <a href="https://github.com/prometheus/node_exporter/releases/tag/v0.18.0" class="bare">https://github.com/prometheus/node_exporter/releases/tag/v0.18.0</a> and <a href="https://github.com/prometheus/node_exporter/releases/tag/v0.18.1" class="bare">https://github.com/prometheus/node_exporter/releases/tag/v0.18.1</a></p>
</div>
<div class="paragraph">
<p>Keep in mind this new version includes some breaking changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Renamed interface label to device in netclass collector for consistency with other network metrics</p>
</li>
<li>
<p>The cpufreq metrics now separate the cpufreq and scaling data based on what the driver provides</p>
</li>
<li>
<p>The labels for the <code>network_up</code> metric have changed</p>
</li>
<li>
<p>Bonding collector now uses <code>mii_status</code> instead of <code>operstatus</code></p>
</li>
<li>
<p>Several systemd metrics have been turned off by default to improve performance. These include <code>unit_tasks_current</code>, <code>unit_tasks_max</code>, <code>service_restart_total</code>, and <code>unit_start_time_seconds</code></p>
</li>
<li>
<p>The systemd collector blacklist now includes automount, device, mount, and slice units by default</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_virtualization_management_of_storage_pools">Virtualization: Management of storage pools</h5>
<div class="paragraph">
<p>Until now users could list the storage pools, which is where the virtual machines disks are stored. Storage pools are where virtual machine disks are stored. In previous versions, you could only list the pools.
With this update, you can create, edit, start, stop, refresh, and delete storage pools. This is available from the WebUI, or through Salt states.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_03">Version 2020.03</h4>
<div class="sect4">
<h5 id="_debian_client_tools">Debian client tools</h5>
<div class="paragraph">
<p>We now offer Debian client tools that allow for easy onboarding of Debian as salt minions, as well as running spacecmd from them.</p>
</div>
<div class="paragraph">
<p>Check the <code>Client Configuration Guide</code> for information about how to configure Uyuni Server to work with Debian clients.</p>
</div>
<div class="paragraph">
<p>For now the following architectures are supported: x86_64, aarch64, armv7l, i586</p>
</div>
<div class="paragraph">
<p>We plan to continue improving Debian support in the future, including support for ppc64le and s390x Debian 10 clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_suse_container_as_a_service_platform_v4_nodes_action_filtering">SUSE Container as a Service Platform v4 nodes: action filtering</h5>
<div class="paragraph">
<p>Nodes in a SUSE Container as a Service Platforms should be patched, rebooted, etc following CaaSP recommendations to avoid breaking cluster availability and software compability.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2020.03, we have introduced node locking and action filtering to prevent uninteded operations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When CaaSP nodes are added to Uyuni, the registered systems will be locked automatically:</p>
</li>
<li>
<p>When a system is locked, the web UI shows a warning and you can schedule actions using the web UI or the API, but the action will fail.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can enable or disable the system lock using the System Lock formula. When the system lock is disabled, all operations are permitted.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subscription_matching_in_public_cloud_byos_vs_payg">Subscription matching in public cloud: BYOS vs PAYG</h5>
<div class="paragraph">
<p>In Uyuni 4.0.1, we introduced virtual host gatherers for Amazon Web Services, Microsoft Azure and Google Cloud Engine. With these gatherers, our subscription matcher gained the ability to also include virtual machines running on the cloud in its calculations.</p>
</div>
<div class="paragraph">
<p>We have now enhanced the subscription matcher to exclude pay-as-you-go (PAYG) instances. Those do not require a subscription, as the agreement between the Cloud Service Provider and the Customer covers them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_automatic_generation_of_bootstrap_repositories">Automatic generation of bootstrap repositories</h5>
<div class="paragraph">
<p>A bootstrap repository contains packages for installing Salt on clients, as well as the required packages for registering Salt or traditional clients during bootstrapping.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2020.01 and earlier, bootstrap repository creation was a manual step, by using the <code>mgr-create-bootstrap-repo tool</code>.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2020.03, bootstrap repositories are automatically created and regenerated on the Uyuni Server after a product is synchronized (i. e. all mandatory channels are fully mirrored).</p>
</div>
<div class="paragraph">
<p>More details, including how to revert to manual invokation, are available from the <code>Client Configuration Guide</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_clients_provisioning_api">Salt clients: provisioning API</h5>
<div class="paragraph">
<p>Enable provisioning API with Salt and bootstrap entitled systems. Previously, this only worked for traditional clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_recurring_highstate_scheduling">Recurring highstate scheduling</h5>
<div class="paragraph">
<p>You can schedule automated recurring highstate actions for Salt clients.</p>
</div>
<div class="paragraph">
<p>Recurring highstate actions apply the highstate to clients on a specified schedule. You can apply recurring action to individual clients, to all clients in a system group, or to an entire organization. The Recurring Actions section in the Administration Guide contains all the details for this feature.</p>
</div>
<div class="paragraph">
<p>More improvements in regards to automation will be coming in subsequent releases of Uyuni: maintenance windows and patch automation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_content_lifecycle_filters_for_appstreams">Content Lifecycle Filters for AppStreams</h5>
<div class="paragraph">
<p>RHEL, SLES ES, CentOS and Oracle Linux 8 appstreams can now be mixed and converted to flat repositories using a new type of CLM filter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_6">New products enabled</h5>
<div class="ulist">
<ul>
<li>
<p>SUSE Linux Enterprise Real Time 12 SP5</p>
</li>
<li>
<p>SUSE Linux Enterprise 15 SP2 family</p>
</li>
<li>
<p>MicroFocus Open Enterprise Server 2018 SP2 (product GA in Q2 2020)</p>
</li>
<li>
<p>Oracle Linux 8 (using <code>spacewalk-common-channels</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_ubuntu_enhancements">Ubuntu enhancements</h5>
<div class="paragraph">
<p>Each Uyuni release and maintenance update brings better Ubuntu support. In Uyuni 2020.03, we have include two small but valuable improvements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support package pre-downloading, to ensure all content (.deb packages) is downloaded before patching. This should be very useful for large Ubuntu deployments managed by Uyuni.</p>
</li>
<li>
<p>Display additional information in the UI for .deb packages (dependencies and more headers)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_yomi_technology_preview">Yomi (Technology Preview)</h5>
<div class="paragraph">
<p>Yomi (yet one more installer) is a Salt-based installer for SUSE and openSUSE operating systems.</p>
</div>
<div class="paragraph">
<p>In Uyuni, Yomi can be used as part of provisioning new clients, as an alternative to AutoYaST. Yomi consists of two components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Yomi formula, which contains the Salt states and modules required to perform the installation.</p>
</li>
<li>
<p>The operating system image, which includes the pre-configured salt-minion service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Detailed information on how to use Yomi is available from the Salt Guide.</p>
</div>
<div class="paragraph">
<p>Yomi is work in progress and more operating systems and features will be added in coming releases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uyuni_hub_xml_rpc_api_technology_preview">Uyuni Hub XML-RPC API (Technology Preview)</h5>
<div class="paragraph">
<p>The Uyuni Hub is a new multi-server architecture we are introducing as a technology preview in Uyuni 2020.03.</p>
</div>
<div class="paragraph">
<p>Multiple Uyuni Servers can be managed from a single Hub node. The Hub is a Salt master itself and the managed Uyuni Server servers are both a minion (to the hub) and a master (to their own minions).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="hub-architecture.png" alt="Uyuni Hub Architecture">
</div>
</div>
<div class="paragraph">
<p>The Hub covers a number of use cases, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scalability: when a single Uyuni Server will no longer be enough</p>
</li>
<li>
<p>Intermittently connected and bandwidth-limited sites, which can now be managed with their own schedule thanks to the Hub</p>
</li>
<li>
<p>Multi-tenancy with individual Uyuni Servers. While Uyuni is multi-organization itself, in some scenarios, an even stronger separation is required. The Hub provides a way to manage and aggregate back information for all those Uyuni Server servers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Hub comprises a number of components that we will be releasing and enhancing in the future. The first component of the Hub we are now introducing as a Technology Preview is the Hub XML-RPC API, which provides an extended version of the Uyuni Server XML-RPC API, targeted for the multi-server case.</p>
</div>
<div class="paragraph">
<p><strong>Installation and usage</strong></p>
</div>
<div class="paragraph">
<p>Install Uyuni Server and then install the <code>hub-xmlrpc-api</code> package. That Uyuni Server is now the Hub Server.</p>
</div>
<div class="paragraph">
<p>Configuration of <code>hub-xmlrpc-api</code> is specified in a JSON file like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
   "type": "json",
    "hub": {
       "manager_api_url": "http://localhost/rpc/api"
   },
    "connect_timeout": 10,
    "read_write_timeout": 10,
   }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Set the <code>HUB_CONFIG_FILE</code> environment variable to point to the configuration file. <code>hub-xmlrpc-api</code> is a daemon, currently to be launched from the command line.</p>
</div>
<div class="paragraph">
<p>Once running, you can connect to the <code>hub-xmlrpc-api</code> at port 8888 via any XMLRPC compliant client libraries (see examples below).</p>
</div>
<div class="paragraph">
<p><strong>API endpoints, namespaces and examples</strong></p>
</div>
<div class="paragraph">
<p>Details about usage with Python script examples are available at the Uyuni project site: <a href="https://github.com/uyuni-project/hub-xmlrpc-api" class="bare">https://github.com/uyuni-project/hub-xmlrpc-api</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_spacewalk_utils">spacewalk-utils</h5>
<div class="paragraph">
<p>In Uyuni 2020.01 and earlier, the <code>spacewalk-utils</code> package contained a mix tested and untested tools.</p>
</div>
<div class="paragraph">
<p>In Uyuni 2020.03, we have split <code>spacewalk-utils</code> in two packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>spacewalk-utils</code> contains only fully-tested tools:</p>
<div class="ulist">
<ul>
<li>
<p><code>spacewalk-common-channels</code></p>
</li>
<li>
<p><code>spacewalk-hostname-rename</code></p>
</li>
<li>
<p><code>spacewalk-clone-by-date</code></p>
</li>
<li>
<p><code>spacewalk-sync-setup</code></p>
</li>
<li>
<p><code>spacewalk-manage-channel-lifecycle</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>spacewalk-utils-extras</code> contains the tools that untested or not completely tested:</p>
<div class="ulist">
<ul>
<li>
<p><code>apply_errata</code></p>
</li>
<li>
<p><code>delete-old-systems-interactive</code></p>
</li>
<li>
<p><code>migrate-system-profile</code></p>
</li>
<li>
<p><code>spacewalk-api</code></p>
</li>
<li>
<p><code>spacewalk-export</code></p>
</li>
<li>
<p><code>spacewalk-export-channels</code></p>
</li>
<li>
<p><code>spacewalk-final-archive</code></p>
</li>
<li>
<p><code>spacewalk-manage-snapshots</code></p>
</li>
<li>
<p><code>sw-ldap-user-sync</code></p>
</li>
<li>
<p><code>sw-system-snapshot</code></p>
</li>
<li>
<p><code>taskotop</code></p>
</li>
<li>
<p><code>spacewalk-manage-channel-lifecycle</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tools in <code>spacewalk-utils-extras</code> are valuable but they are so specific, or require additional customization for each user, that it is not possible for us to test for every use case. If you were using these scripts in <code>spacewalk-utils</code> in Uyuni 2020.01 or earlier, you will need to install <code>spacewalk-utils-extras</code> in Uyuni 2020.03.</p>
</div>
</div>
<div class="sect4">
<h5 id="_efi_http_booting">EFI HTTP booting</h5>
<div class="paragraph">
<p>The dhcp formula, branch network formula and pxe formula have been updated to support booting EFI terminals (systems) via HTTP in addition to TFTP.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subscription_matching_enhancements">Subscription matching enhancements</h5>
<div class="paragraph">
<p>On public cloud providers, the subscription matcher will identify pay-as-you-go instances, whose subscription is provided by the Cloud Service Provider, and will not ask for additional subscriptions.</p>
</div>
<div class="paragraph">
<p>Also, stackable subscriptions with the same parameters will be aggregated.</p>
</div>
</div>
<div class="sect4">
<h5 id="_single_sign_on_sso_is_now_stable">Single Sign-On (SSO) is now stable</h5>
<div class="paragraph">
<p>Uyuni supports Single Sign-On authentication by implementing the Security Assertion Markup Language (SAML) 2 protocol. This feature, introduced in 4.0.2 as a Technology Preview, is now declared stable</p>
</div>
<div class="paragraph">
<p>Uyuni must be reconfigured to use the IdP as the source of authentication and post-login mapped users must be already created before enabling SSO.</p>
</div>
<div class="paragraph">
<p>For more on configuring SSO, see the <strong>Authentication Methods chapter</strong> in the <code>Administration guide</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_single_page_application_ui_spa_is_now_stable">Single Page Application UI (SPA) is now stable</h5>
<div class="paragraph">
<p>In an effort to provide our web UI users with a smoother navigation, we have implemented large parts of the user interface as a single page application.</p>
</div>
<div class="paragraph">
<p>This enhancement was started in Uyuni 2020.01 as an opt-in feature and now becomes the default in Uyuni 2020.03</p>
</div>
</div>
<div class="sect4">
<h5 id="_red_hat_enterprise_linux_8_onboarding_simplified">Red Hat Enterprise Linux 8 onboarding simplified</h5>
<div class="paragraph">
<p>It is no longer necessary to have Python 3 on RHEL8 systems for the onboarding to work. With this enhancement, even plain-text RHEL machines can be onboarded directly.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_2020_01">Version 2020.01</h4>
<div class="sect4">
<h5 id="_version_format_change">Version format change</h5>
<div class="paragraph">
<p>Uyuni is now changing from X.Y version format to YYYY.MM format, and the URLs for the repositories remove the X.Y part.</p>
</div>
<div class="paragraph">
<p>This will allow easier releases, no need to change URLs at all in the future, and less confussion regarding the relationship between Uyuni and SUSE Manager (Uyuni is always ahead).</p>
</div>
</div>
<div class="sect4">
<h5 id="_adjust_your_repository_at_the_server_system">Adjust your repository at the Server system</h5>
<div class="paragraph">
<p>Because of the version format change, you need to adapt your zypper repository at the server before updating.</p>
</div>
<div class="paragraph">
<p>If you followed the instructions for installation, this command will do it for you:</p>
</div>
<div class="paragraph">
<p><code>sed -i -e 's/Uyuni-Server-4.0-POOL-x86_64-Media1/Uyuni-Server-POOL-x86_64-Media1/' /etc/zypp/repos.d/uyuni-server-stable.repo</code></p>
</div>
<div class="paragraph">
<p>Otherwise, find the Uyuni Server Stable repository and replace:</p>
</div>
<div class="paragraph">
<p><code>baseurl=https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable/images/repo/Uyuni-Server-4.0-POOL-x86_64-Media1/</code></p>
</div>
<div class="paragraph">
<p>with:</p>
</div>
<div class="paragraph">
<p><code>baseurl=https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable/images/repo/Uyuni-Server-POOL-x86_64-Media1/</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_remove_current_uyuni_proxy_4_0_channel_and_repository_from_the_server_and_add_the_new_ones">Remove current Uyuni Proxy 4.0 channel and repository from the Server and add the new ones</h5>
<div class="paragraph">
<p>If you are currently syncing Uyuni Proxy 4.0 (usually because you have proxies), you need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the new channel with <code>spacewalk-common-channel uyuni-proxy-stable-leap-151</code></p>
</li>
<li>
<p>Sync the new channel (and configure autosync if required)</p>
</li>
<li>
<p>See what instances are using the channel <code>Uyuni Proxy 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Adjust the channels assigned instances from previous step (tip: You can use "System Set Manager") to remove the old one and add the new one.</p>
</li>
<li>
<p>See what activations key are using the channel <code>Uyuni Proxy 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Adjust the activation keys from previous set to remove the old channel and add the new one.</p>
</li>
<li>
<p>Remove the channel <code>Uyuni Proxy 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Remove the repository <code>External - Uyuni Proxy 4.0 for openSUSE Leap 15.1 (x86_64)</code></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_remove_current_uyuni_server_4_0_channel_and_repository_from_the_server_and_add_the_new_ones">Remove current Uyuni Server 4.0 channel and repository from the Server and add the new ones</h5>
<div class="paragraph">
<p>Most users will not require this unless, but if you have the Uyuni Server 4.0 channel at your server:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the new channel with <code>spacewalk-common-channel uyuni-server-stable-leap-151</code></p>
</li>
<li>
<p>Sync the new channel (and configure autosync if required)</p>
</li>
<li>
<p>See what instances are using the channel <code>Uyuni Server 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Adjust the channels assigned instances from previous step (tip: You can use "System Set Manager" at the WebUI) to remove the old one and add the new one.</p>
</li>
<li>
<p>See what activations key are using the channel <code>Uyuni Server 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Adjust the activation keys from previous set to remove the old channel and add the new one.</p>
</li>
<li>
<p>Remove the channel <code>Uyuni Server 4.0 for openSUSE Leap 15.1</code></p>
</li>
<li>
<p>Remove the repository <code>External - Uyuni Server 4.0 for openSUSE Leap 15.1 (x86_64)</code></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_centos8_rhel_8_and_sles_es_8_support">CentOS8, RHEL 8 and SLES ES 8 support</h5>
<div class="paragraph">
<p>CentOS 8, Red Hat Enterprise Linux 8 and SUSE Linux Enterprise Server Expanded Support 8 are now supported clients as Salt minions. The traditional stack will not be supported on these operating systems.</p>
</div>
<div class="paragraph">
<p>With the new application streams concept introduced in these operating systems, you will need to import both the BaseOS and the AppStream directories from the ISO image for the bootstrap repository to be created correctly. If the AppStream directory is not imported, you will receive an error about missing Python 3 packages.</p>
</div>
<div class="paragraph">
<p>AppStream awareness in the UI and Content Lifecycle Management will be available in an upcoming version of Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_5">Monitoring</h5>
<div class="paragraph">
<p>This version of Uyuni includes formulas to install Prometheus and Grafana, and makes the Apache exporter available for Ubuntu 18.04, CentOS6, CentOS7 and Proxy.</p>
</div>
<div class="paragraph">
<p>Additionally, self-monitoring capabilities have been implemented in the Admin Monitoring UI.</p>
</div>
</div>
<div class="sect4">
<h5 id="_package_hub">Package Hub</h5>
<div class="paragraph">
<p>SUSE Package Hub is now supported on the Server, since the problems with the search that were caused by PackageHub-provided packages have been solved.</p>
</div>
<div class="paragraph">
<p>If you were using Package Hub as a source of packages for you clients, it is recommended that you re-generate all package metadata. The reason for this is in the Package Hub repositories there may exist multiple packages with the same NEVRA but different checksums. This might result in checksum errors when repositories are used on the clients as Uyuni randomly selected any of those packages. After this update, Uyuni will generate the checksum into the package path to ensure the right package is used. If you use also Uyuni Proxy please update all of them before you re-generate the metadata.</p>
</div>
</div>
<div class="sect4">
<h5 id="_formulas_2">Formulas</h5>
<div class="paragraph">
<p>The Formulas with Forms screen has an enhanced layout that folds vertically instead of nesting deep inside, making if cleaner. Besides this, validators are now possible in formulas using the JEXL expression language.</p>
</div>
<div class="paragraph">
<p>The cpu-mitigations-formula is now installed by default.</p>
</div>
<div class="paragraph">
<p>The Retail branch network formula now works all SUSE and openSUSE based distros, using SuSEfirewall or firewalld as appropriate.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_content_lifecycle_management_filters">New Content Lifecycle Management filters</h5>
<div class="paragraph">
<p>In Uyuni 4.0.2 we introduced Content Lifecycle Management with a filter to exclude packages and patches based on their name. Feedback for this feature was very positive and many proposals for enhancement were received.</p>
</div>
<div class="paragraph">
<p>In this release, we are introducing a lot of new possibilities for Content Lifecycle Management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New filters: by date, by keyword (e. g. "reboot needed" or "package manager restart required"), by type (security, recommended or optional), by synopsis and "patch contains package".</p>
</li>
<li>
<p>New ALLOW mode, which in addition to the existing DENY mode, makes possible to filter out packages, and then include them again into the resulting set.</p>
</li>
<li>
<p>New matchers: in addition to the existing greater than, lesser than, equals, etc, we have now added a regular expression matcher for package names, patch names, patch synopsis and package names in patches.</p>
</li>
<li>
<p>Better visualization of the filters attached to a CLM project, with ALLOW and DENY now shown on each side of the screen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We have documented two typical use cases: <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/content-lifecycle-examples.html#create-proj-for-patch-cycle">a monthly patch cycle</a> and <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/content-lifecycle-examples.html#enhance-project-with-livepatching">live patching</a>.</p>
</div>
<div class="paragraph">
<p>More enhancements to Content Lifecycle Management will come in future releases of Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enhanced_support_for_debian_and_ubuntu">Enhanced support for Debian and Ubuntu</h5>
<div class="paragraph">
<p>With each release of Uyuni, we continue to enhance our Debian and Ubuntu support.</p>
</div>
<div class="paragraph">
<p>Uyuni 2020.01 greatly improves our compatibility thanks to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for all of the headers in .deb packages, including custom ones, when syncing Debian/Ubuntu repositories. You can use the new script <code>mgr-update-pkg-extra-tags</code> to update extra fields in DB without recreating all Debian/Ubuntu channels.</p>
</li>
<li>
<p>Support for .deb packages with hyphens in the package name or version. There remain a very small percentage (&lt;0.1%) of packages for which our version comparison algorithm fails; we will fix this known issue in a coming release.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_new_prometheus_exporters_and_formulas">New Prometheus exporters and formulas</h5>
<div class="paragraph">
<p>A new set of client tool packages now includes Prometheus exporters for more clients: CentOS 6, CentOS 7, RHEL 6, RHEL 7, SLES ES 6, SLES ES 7 and Ubuntu 18.04. Both the Prometheus node exporter and the PostgreSQL exporter are provided for those operating systems. The prometheus-exporters-formula formula makes easy to deploy them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subscription_matching_in_public_cloud">Subscription matching in Public Cloud</h5>
<div class="paragraph">
<p>We&#8217;ve added new types of Virtual Host Managers in order to gather virtual instances from Public Cloud providers. Azure, AWS and Google Cloud are now supported, in addition to the existing VMware and generic (file-based, manually-maintained, useful for any cloud provider) gatherer modules.</p>
</div>
<div class="paragraph">
<p>Creating VHM to gather virtual instances from the Public Cloud will enable the subscription matcher to match "1-2 virtual machines" subscriptions for those instances that are running on the same Public Cloud zone.</p>
</div>
<div class="paragraph">
<p>Please take into account the following considerations in this version. They will be addressed in upcoming versions of Uyuni:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>This functionality will only work with Salt clients.</p>
</li>
<li>
<p>Manual installation of the <code>virtual-host-gatherer-libcloud</code> package is required.</p>
</li>
<li>
<p>The public cloud gatherers will report and try to match all instances, no matter if they are BYOS or PAYG, leading to an incorrect calculation of the required subscriptions if you combine BYOS and PAYG.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preventive_shutdown_of_server_when_running_out_of_disk_space">Preventive shutdown of Server when running out of disk space</h5>
<div class="paragraph">
<p>Some users have hit in the past a database corruption problem when PostgreSQL ran out of space.</p>
</div>
<div class="paragraph">
<p>In order to prevent that from happening in the future, we have added a diskchecker to Uyuni Server. This feature will send a warning mail when the most common and important Uyuni directories are below 10% of free disk space, and will shut down the Uyuni Server when those directories are below 5% of free disk space.</p>
</div>
<div class="paragraph">
<p>This new feature is only enabled by defult in new installations. For existing installations, the administrator can enable the tool manually after updating to the latest maintenance update by running:</p>
</div>
<div class="paragraph">
<p><code>systemctl --quiet enable spacewalk-diskcheck.timer</code></p>
</div>
<div class="paragraph">
<p><code>systemctl start spacewalk-diskcheck.timer</code></p>
</div>
<div class="paragraph">
<p>Full details on the parameterization of this new feature are available in the
<a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/space-management.html">Managing disk space</a> documentation page.</p>
</div>
</div>
<div class="sect4">
<h5 id="_single_page_application_ui">Single Page Application UI</h5>
<div class="paragraph">
<p>In an effort to provide our web UI users with a smoother navigation, we have implemented large parts of the user interface as a single page application.</p>
</div>
<div class="paragraph">
<p>This feature is optional for this release and is disabled by default. To enable it, users can now add <code>web.spa.enable = true</code> to <code>/etc/rhn/rhn.conf</code>, and then restart Tomcat.</p>
</div>
</div>
<div class="sect4">
<h5 id="_grafana_2">Grafana</h5>
<div class="paragraph">
<p>Grafana is a tool for data visualization, monitoring, and analysis. It is used to create dashboards with panels representing specific metrics over a set period of time. Grafana is commonly used together with Prometheus, but also supports other data sources such as ElasticSearch, MySQL, PostgreSQL, and Influx DB.</p>
</div>
<div class="paragraph">
<p>This version of Uyuni includes Grafana in the client tools repositories. An Uyuni Grafana dashboard is provided as an example.</p>
</div>
<div class="paragraph">
<p><a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/monitoring.html">Monitoring</a> section of the Administration Guide contains full detail on how to configure Grafana together with Uyuni.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_service_autodiscovery">Prometheus service autodiscovery</h5>
<div class="paragraph">
<p>Prometheus is a monitoring tool used to record real-time metrics in a time-series database. Metrics are collected using HTTP pulls, allowing for higher performance and scalability.</p>
</div>
<div class="paragraph">
<p>We have updated the Prometheus package with a new version that include a built-in service discovery mechanism
that will allow users to more easily configure monitoring on their Uyuni systems.</p>
</div>
<div class="paragraph">
<p>Previously, after configuring the exporters on managed clients, users had to manually configure their Prometheus servers to start scrapping metrics from those systems. With this update, it will be possible to use a "service discovery" mechanism that will automate this part of the configuration. The configuration options are simple: it is only required to provide a Uyuni Server URL and valid API credentials.</p>
</div>
<div class="paragraph">
<p>Under the hood, what this mechanism does is letting Prometheus poll the Uyuni API, asking for a list of systems that have monitoring enabled, and automatically configuring Prometheus to collect metrics from those systems.</p>
</div>
<div class="paragraph">
<p>In this version, the autodiscovery functionality is provided as a Technology Preview.</p>
</div>
<div class="paragraph">
<p>More information about configuring Prometheus can be found in the <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/monitoring.html">Monitoring</a> section of the Administration Guide.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cpu_mitigation_formula">CPU mitigation formula</h5>
<div class="paragraph">
<p>CPU mitigations have been introduced to improve security on CPUs affected by vulnerabilities such as Meltdown and Spectre. The mitigations are available in SUSE Linux Enterprise 12 SP3 and later in the cpu-mitigations-formula package, which is not installed by default.</p>
</div>
<div class="paragraph">
<p>The new CPU Mitigation formula allows you to control which mitigations are enabled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_updated_documentation">Updated documentation</h5>
<div class="paragraph">
<p>The Uyuni documentation has received improvements in all of the books, with small clarifications and enhancements all around: content lifecycle management filters, public cloud, JeOS, formulas, etc</p>
</div>
<div class="paragraph">
<p>Of particular interest for users with large installations will be the new <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/salt/large-scale-tuning.html">Large Scale Deployment</a> and <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/salt/large-scale-tuning.html">Salt Tuning</a> sections in the Salt Guide. Given that modifying advanced parameters can cause catastrophic failure, we recommend making a backup and being conservative doing changes.</p>
</div>
<div class="paragraph">
<p>Additionally, the search functionality in the documentation now works offline.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enhanced_support_for_ubuntu_and_debian_clients">Enhanced support for Ubuntu and Debian clients</h5>
<div class="paragraph">
<p>The Multi-Arch and Pre-depends headers are now supported for .deb repositories, hence avoiding installation problems that could arise in some cases when deploying packages from the UI.</p>
</div>
<div class="paragraph">
<p>Also, Ubuntu and Debian channels now come preconfigured in spacewalk-common-channels. The Debian CDN is used to provide the best mirror at each moment. For Ubuntu, you may want to replace the default mirror with a closer geo-mirror.</p>
</div>
<div class="paragraph">
<p>Keep in mind SUSE does not provide support for the spacewalk-common-channels tool form the spacewalk-utils package.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_enabled_from_scc">New products enabled (from SCC)</h5>
<div class="ulist">
<ul>
<li>
<p>SLES12 SP3 LTSS</p>
</li>
<li>
<p>SUSE Linux Enterprise Real Time 12 SP4</p>
</li>
<li>
<p>SLES12 SP5</p>
</li>
<li>
<p>RHEL 8 and SLES ES 8</p>
</li>
<li>
<p>CaaSP 4</p>
</li>
<li>
<p>openSUSE Leap 15.1</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_suse_container_as_a_service_platform_v4_support">SUSE Container as a Service Platform v4 support</h5>
<div class="paragraph">
<p>The Virtual Host Manager functionality has been extended to support SUSE Container as a Service Platform v4.</p>
</div>
<div class="paragraph">
<p>You can register each CaaSP node to Uyuni using the same method as you would a Salt client. After doing this, you will be able to see the patch level status of each node, perform configuration management on the nodes and assign channels o clusters.</p>
</div>
<div class="paragraph">
<p>We strongly recommend to check the documentation on the scope and extent of the CaaSPv4 integration in Uyuni: <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/client-configuration/vhm-caasp.html" class="bare">https://www.uyuni-project.org/uyuni-docs/en/uyuni/client-configuration/vhm-caasp.html</a></p>
</div>
<div class="paragraph">
<p>Upcoming versions of Uyuni will enhance CaaSP integration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_other_changes">Other changes</h5>
<div class="ulist">
<ul>
<li>
<p>Since this version, as part of a bugfix, it is no longer allowed to delete a channel when there are cloned channels based on it.</p>
</li>
<li>
<p>Taskomatic now takes a maximum of 4 GB of RAM (it used to be 2 GB), which better matches the current average use case.</p>
</li>
<li>
<p>Salt clients can now be re-provisioned from Uyuni. This allows major version OS updates for SLES and Uyuni Proxy.</p>
</li>
<li>
<p>Normalize date formats for actions, notifications and CLM</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_4_0_2">Version 4.0.2</h4>
<div class="sect4">
<h5 id="_migrating_the_server_from_4_0_1_to_4_0_2">Migrating the Server from 4.0.1 to 4.0.2</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you are using DHCP addresses and you do not use DHCP reservations, migrating from openSUSE Leap 42.3 to Leap 15.0 can change the IP address of
your NICs. If using DHCP, make sure your instances have reserved IP addresses.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Before starting, make sure you have a backup of your server, as it will be hard to recover from failures during the migration.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>4.0.2 is now based on openSUSE Leap 15.1, so a base OS system is required.</p>
</div>
<div class="paragraph">
<p>To help administrators with the migration, a new script is provided by the <code>susemanager</code> package at <code>/usr/lib/susemanager/bin/server-migrator.sh</code></p>
</div>
<div class="paragraph">
<p>Then, update susemanager package only:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>zypper ref
zypper in susemanager</pre>
</div>
</div>
<div class="paragraph">
<p>And finally run the script:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/usr/lib/susemanager/bin/server-migrator.sh</pre>
</div>
</div>
<div class="paragraph">
<p>After the migration is complete, you will be requested to reboot your server</p>
</div>
<div class="paragraph">
<p>Uyuni Server&#160;4.0.2 works with SUSE Uyuni Proxy&#160;4.0.1.</p>
</div>
<div class="paragraph">
<p>When upgrading, upgrade the Server first, followed by the Proxies.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_2019_2_0">Salt 2019.2.0</h5>
<div class="paragraph">
<p>Salt has been upgraded to the 2019.2.0 release.</p>
</div>
<div class="paragraph">
<p>We intend to regularly upgrade Salt to more recent versions.</p>
</div>
<div class="paragraph">
<p>For more detail about changes in your manually-created Salt states, see the Salt upstream release notes <a href="https://docs.saltstack.com/en/latest/topics/releases/2019.2.0.html">2019.2.0</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_base_system_upgrade_3">Base system upgrade</h5>
<div class="paragraph">
<p>The base system was upgraded to openSUSE&#160;15.1.</p>
</div>
<div class="paragraph">
<p>As a result, all code was ported to run with Python&#160;3 and OpenJDK&#160;11.</p>
</div>
</div>
<div class="sect4">
<h5 id="_prometheus_monitoring">Prometheus Monitoring</h5>
<div class="paragraph">
<p>We now include packages for the latest version of <a href="https://github.com/prometheus/prometheus">Prometheus</a>,  as well as self-monitoring capabilities for Uyuni.</p>
</div>
<div class="paragraph">
<p>Prometheus is a monitoring tool that is used to record real-time metrics in a time-series database.</p>
</div>
<div class="paragraph">
<p>For more information about Prometheus, see the <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/monitoring.html">Administration Guide</a></p>
</div>
<div class="sect5">
<h6 id="_exporters">Exporters</h6>
<div class="paragraph">
<p>Exporters convert existing metrics into the format Prometheus requires.
We are now providing the following Prometheus Exporters as packages, for SLE12 and SLE15 as well as openSUSE Leap 15.1:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/prometheus/node_exporter">Node exporter</a> - Hardware and operating system metrics</p>
</li>
<li>
<p><a href="https://github.com/wrouesnel/postgres_exporter">PostgreSQL exporter</a> - PostgreSQL database metrics</p>
</li>
<li>
<p><a href="https://github.com/boynux/squid-exporter">Squid exporter</a> - Squid Proxy metrics</p>
</li>
<li>
<p><a href="https://github.com/lusitaniae/apache_exporter">Apache exporter</a> - Apache HTTP server metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition we provide <a href="https://github.com/prometheus/jmx_exporter">JMX exporter</a> on Uyuni Server.</p>
</div>
<div class="paragraph">
<p>Monitoring is not yet available for other operating system platforms like Red Hat Enterprise Linux or Ubuntu.</p>
</div>
</div>
<div class="sect5">
<h6 id="_self_monitoring_features_in_uyuni">Self-monitoring features in Uyuni</h6>
<div class="paragraph">
<p>Uyuni provides metrics about its health to Prometheus. Both Server and Proxy can expose metrics.
Self-monitoring can be enabled via the Web UI. For that purpose, some Prometheus exporters are pre-installed on Uyuni Server and Proxy.</p>
</div>
<div class="paragraph">
<p>A new formula is also included, to install and manage Node and PostgreSQL exporters on clients managed by Salt.
This formula can be configured in the Uyuni Web UI.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_content_lifecycle_management">Content lifecycle management</h5>
<div class="paragraph">
<p>The content lifecycle management feature allows you to clone software channels through a lifecycle of several environments.
You are able to create content projects, select a custom set of software channels as sources, and promote software channels through a pre-defined lifecycle of environments.</p>
</div>
<div class="paragraph">
<p>You can define filters to exclude specific packages and patches.
More filters will be added in a later release.</p>
</div>
<div class="paragraph">
<p>Once you have selected your sources you can build the selected set which will populate the first environment.
After the first environment is built, you can promote it through the environment lifecycle to the next environment in the loop.
You can see the status of the build at any time throughout the process.</p>
</div>
<div class="paragraph">
<p>The result of the build, and the content of every environment, is a channel tree made of cloned software channels of the selected sources, to which systems can be assigned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_virtualization_management_for_salt_minions">Virtualization management for Salt minions</h5>
<div class="paragraph">
<p>The existing virtualization features have been enhanced for Salt-based systems.
This is a technology preview and will require an additional Virtualization Management entitlement. Pricing will be announced soon.</p>
</div>
<div class="paragraph">
<p>Salt-based virtualization host systems can also create virtual machines using a pre-built disk image.</p>
</div>
<div class="paragraph">
<p>These features have been added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deleting virtual machines.</p>
</li>
<li>
<p>Editing virtual machines to add or remove network interfaces or disk, change CPU and memory allocation or the display type.</p>
</li>
<li>
<p>Quick update of the list and state of virtual machines.</p>
</li>
<li>
<p>Displaying virtual machines graphical display in a new tab.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_updated_documentation_structure">Updated Documentation Structure</h5>
<div class="paragraph">
<p>In this release, we have reorganized our documentation and updated our tooling to make it clearer where information is, and make it easier for you to find the content you need, when you need it.</p>
</div>
<div class="sect5">
<h6 id="_old_naming_format">Old Naming Format</h6>
<div class="ulist">
<ul>
<li>
<p>Getting Started</p>
</li>
<li>
<p>Best Practices</p>
</li>
<li>
<p>Reference</p>
</li>
<li>
<p>Advanced Topics</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_new_naming_format">New Naming Format</h6>
<div class="ulist">
<ul>
<li>
<p>Installation Guide (Requirements, supported platforms, installation methods, etc)</p>
</li>
<li>
<p>Client Configuration Guide (Configuring and connecting clients to Uyuni)</p>
</li>
<li>
<p>Upgrade Guide (Migrate and update clients and Uyuni)</p>
</li>
<li>
<p>Reference Guide (Comprehensive guide to the Web UI)</p>
</li>
<li>
<p>Administration Guide (Maintenance and administration tasks in Uyuni)</p>
</li>
<li>
<p>Salt Guide (A comprehensive guide to Salt for system administrators)</p>
</li>
<li>
<p>Retail Guide (A guide to using Uyuni for Retail)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_improved_logging_for_salt_remote_command_page">Improved logging for Salt Remote Command Page</h5>
<div class="paragraph">
<p>The Salt Remote Command Page log now every command executed in a separate logfile
(<code>/var/log/rhn/rhn_salt_remote_commands.log</code>).
In addition to this, an entry in the System History is generated for every minion
where the command was executed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_more_distributions_as_clients">Support for more Distributions as Clients</h5>
<div class="paragraph">
<p>openSUSE Leap 15.1 and SLE15 SP1 can now be managed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_eol_for_opensuse_leap_42_3_clients">EoL for openSUSE Leap 42.3 clients</h5>
<div class="paragraph">
<p>openSUSE Leap 42.3 is now End of Life since July 1st, as announced at the <a href="https://lists.opensuse.org/opensuse-security-announce/2019-07/msg00000.html">openSUSE Mailing lists</a></p>
</div>
<div class="paragraph">
<p>While the repositories for Leap 42.3 are still available, no support is provided aymore.</p>
</div>
</div>
<div class="sect4">
<h5 id="_salt_rate_limiting_batching">Salt Rate Limiting (Batching)</h5>
<div class="paragraph">
<p>Any action scheduled on multiple Salt minions has now an upper limit on the number
of systems that will process it simultaneously. This is referred to as batch size
in Salt jargon, and defaults to 100 minions.</p>
</div>
<div class="paragraph">
<p>Please check the documentation for performance considerations in large installations
(more than 1000 minions).</p>
</div>
</div>
<div class="sect4">
<h5 id="_product_information_loaded_from_scc">Product Information Loaded from SCC</h5>
<div class="paragraph">
<p>In the past information about product channels were shipped via maintenance updates.
Now these information will be downloaded from SUSE Customer Center (SCC) like the
other product and repository information.</p>
</div>
<div class="paragraph">
<p>In case of using the <code>fromdir</code> configuration with SMT or RMT, please check if they
support already downloading this file. You can get the file with the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -O https://scc.suse.com/suma/product_tree.json</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_image_build_host_with_sles_12_sp4">Image build host with SLES 12 SP4</h5>
<div class="paragraph">
<p>Using SLES 12 SP4 as the base OS for an image build host is now
supported.</p>
</div>
<div class="paragraph">
<p>Also building SLES 12 SP4 OS Images is supported.</p>
</div>
</div>
<div class="sect4">
<h5 id="_updated_backend_for_communicating_with_scc">Updated backend for communicating with SCC</h5>
<div class="paragraph">
<p>This update contains a new backend to communicate with the SUSE Customer Center (SCC).
This requires to run a <code>mgr-sync refresh</code> at the end of the update procedure.</p>
</div>
<div class="paragraph">
<p>The whole update procedure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$&gt; spacewalk-service stop
$&gt; zypper patch
$&gt; spacewalk-schema-upgrade
$&gt; spacewalk-service start
$&gt; mgr-sync refresh</pre>
</div>
</div>
<div class="paragraph">
<p>In case of Inter Server Sync (ISS) the <code>master</code> needs to be updated first,
then the <code>slave</code>.</p>
</div>
<div class="paragraph">
<p>This change show products like they are setup in the SUSE Customer Center.
As a consequence of this some older products show no architecture anymore
and mirror all available architectures when such a product is selected
for mirroring.</p>
</div>
<div class="paragraph">
<p>With this change also some invalid product combinations were removed.
Please check <code>/var/log/rhn/rhn_web_ui.log</code> for error messages. Invalid
channels can be removed using <code>spacewalk-remove-channel</code> command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_xmlrpc_api_changes">XMLRPC API changes</h5>
<div class="paragraph">
<p>Due to the changes in the backend for communicating with SCC corresponding
XMLRPC API has changed:</p>
</div>
<div class="paragraph">
<p>Deprecated calls:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>synchronizeChannels()
synchronizeProductChannels()</pre>
</div>
</div>
<div class="paragraph">
<p>New call:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>synchronizeRepositories()</pre>
</div>
</div>
<div class="paragraph">
<p>For a refresh the XMLRPC API should be called in the following order:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>synchronizeChannelFamilies
synchronizeProducts
synchronizeRepositories
synchronizeSubscriptions</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_ubuntu_clients">Support for Ubuntu Clients</h5>
<div class="paragraph">
<p>Management of Ubuntu clients is now supported. We provide a repository with
salt packages that can easily be added with <code>spacewalk-common-channels</code> or manually.</p>
</div>
<div class="paragraph">
<p>The following new features were added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bootstrapping and performing initial state runs such as setting repositories and performing profile updates</p>
</li>
<li>
<p>Assigning <code>.deb</code> channels to minions</p>
</li>
<li>
<p>Information displayed in System details pages</p>
</li>
<li>
<p>Package install, update, and remove</p>
</li>
<li>
<p>Package install using <code>Package States</code></p>
</li>
<li>
<p>Configuration and state channels</p>
</li>
<li>
<p>Support Ubuntu products and Debian architectures in mgr-sync</p>
</li>
<li>
<p>Support creating bootstrap repositories for Ubuntu 18.04 and 16.04</p>
</li>
<li>
<p>Add support for Ubuntu in the bootstrap script</p>
</li>
<li>
<p>Generate InRelease file for Debian/Ubuntu repos when metadata signing is enabled</p>
</li>
<li>
<p>Trust SUSE GPG key for client tools channels on Ubuntu systems</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, the root user on Ubuntu is disabled by default, so in order to use bootstrapping,
you will require an existing user with sudo privileges for Python.</p>
</div>
</div>
<div class="sect4">
<h5 id="_change_behavior_on_token_refresh">Change behavior on token refresh</h5>
<div class="paragraph">
<p>Channel authentication tokens are valid by default for about 1 year.
The renew of tokens happens automatically some time before they expire
but they are not deployed automatically to the clients.</p>
</div>
<div class="paragraph">
<p>As the renew happens mostly without noticing by the administrator that
behavior has changed to autodeploy renewed tokens to the clients automatically.</p>
</div>
<div class="paragraph">
<p>This old behavior can be preserved by setting</p>
</div>
<div class="literalblock">
<div class="content">
<pre>token_refresh_auto_deploy = false</pre>
</div>
</div>
<div class="paragraph">
<p>in <code>/etc/rhn/rhn.conf</code> and restarting the services.</p>
</div>
<div class="paragraph">
<p>In case of a token renew without autodeployment enabled a log message will
inform the administrator about it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_option_to_force_regeneration_of_channel_metadata">New option to force regeneration of channel metadata</h5>
<div class="paragraph">
<p>A new option <code>--force</code> was added to <code>spacecmd softwarechannel_regenerateyumcache</code> to force
a regeneration of the metadata files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_supported">New products supported</h5>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.1</p>
</li>
<li>
<p>SLES11 SP4 LTSS</p>
</li>
<li>
<p>SLES12 SP3 LTSS</p>
</li>
<li>
<p>SLES 15 SP1 product family</p>
</li>
<li>
<p>CaaSP 4 Toolchain</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_package_download_endpoint_override">Package download endpoint override</h5>
<div class="paragraph">
<p>It is now possible to set a custom protocol, host and path for minions to download packages
at installation time. This will override the default setting of the Uyuni Server or
Uyuni Proxy used at registration time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_technical_preview_single_sign_on_sso">Technical preview: Single Sign-On (SSO)</h5>
<div class="paragraph">
<p>Uyuni supports Single Sign-On authentication by implementing the Security Assertion Markup Language (SAML) 2 protocol.
Mandatory requirement: an already existing and configured SAML Identity Service Provider (IdP).
Uyuni must be reconfigured to use the IdP as the source of authentication and post-login mapped users must be already created before enabling SSO.</p>
</div>
<div class="paragraph">
<p>For more on configuring SSO, see the <a href="https://www.uyuni-project.org/uyuni-docs/en/uyuni/administration/auth-methods-sso.html">Administration Guide</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_4_0_1">Version 4.0.1</h4>
<div class="sect4">
<h5 id="_support_for_postgresql_10">Support for PostgreSQL 10</h5>
<div class="paragraph">
<p>A new version of the PostgreSQL database is available in openSUSE
Leap 42.3 and can be used for Uyuni Server.</p>
</div>
<div class="paragraph">
<p>New installations of Uyuni Server based on openSUSE Leap 42.3 will
automatically pick up this version.</p>
</div>
<div class="paragraph">
<p>PostgreSQL 10 needs a new version of smdba to initiate backups. This
version is part of Uyuni Server 4.0.1.</p>
</div>
</div>
<div class="sect4">
<h5 id="_migrating_from_postgresql_9_6_to_postgresql_10">Migrating from PostgreSQL 9.6 to PostgreSQL 10</h5>
<div class="paragraph">
<p>You should have an up-to-date database backup before attempting the
migration.</p>
</div>
<div class="paragraph">
<p>Existing installations of Uyuni Server will need to run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/usr/lib/susemanager/bin/pg-migrate-96-to-10.sh</pre>
</div>
</div>
<div class="paragraph">
<p>to migrate from PostgreSQL 9.6 to PostgreSQL 10</p>
</div>
<div class="paragraph">
<p>Your Uyuni Server installation will not be accessible
during the migration.</p>
</div>
<div class="paragraph">
<p>Note The migration will create a copy of the database under
<code>/var/lib/pgsql</code> and thus needs sufficient disk space to hold two copies
(9.6 and 10) of the database.</p>
</div>
<div class="paragraph">
<p>Since it does a full copy of the database, it also needs considerable
time depending on the size of the database and the IO speed of the
storage.</p>
</div>
<div class="paragraph">
<p>If your system is scarce on disk space you can do an fast, in-place
migration by running</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/usr/lib/susemanager/bin/pg-migrate-96-to-10.sh fast</pre>
</div>
</div>
<div class="paragraph">
<p>The fast migration usually only takes minutes and no additional
disk space. However, in case of failure you need to restore the
database from a backup.</p>
</div>
<div class="paragraph">
<p><a href="https://wiki.microfocus.com/index.php/SUSE_Manager/postgresql10">This wiki page</a> contains additional information about the database
migration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_spacecmd_support_state_channels">spacecmd: Support state channels</h5>
<div class="paragraph">
<p><code>spacecmd</code>, the command line access to the Uyuni API, has been adapted
to support state channels (aka Salt Minion config channels) with the
following changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>system_scheduleapplyconfigchannels</code></p>
<div class="ulist">
<ul>
<li>
<p>new call to schedule application of the assigned config channels to the system (minion only)</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>configchannel_updateinitsls</code></p>
<div class="ulist">
<ul>
<li>
<p>new call to update the <code>init.sls</code> file</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>configchannel_create</code></p>
<div class="ulist">
<ul>
<li>
<p>adapted call, now has a <code>-t</code> option to specify the channel type (<code>normal</code> or <code>state</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>configchannel_import</code></p>
<div class="ulist">
<ul>
<li>
<p>adapted call, honors channel type</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please use the help functionality of spacecmd for detailed option
descriptions for each mentioned call.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_api_calls_2">New API calls</h5>
<div class="paragraph">
<p>Functions <code>softwarechannel_mergepackages</code> and <code>softwarechannel_errata_merge</code>
to merge packages and errata through spacecmd were added.</p>
</div>
</div>
<div class="sect4">
<h5 id="_spacewalk_common_channels_support_for_uyuni_fedora_29_and_cleanup">spacewalk-common-channels: Support for Uyuni, Fedora 29 and cleanup</h5>
<div class="paragraph">
<p>Added:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uyuni Server, Uyuni Proxy, Uyuni Client Tools, both stable and development version.</p>
</li>
<li>
<p>Fedora 29</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fedora 26</p>
</li>
<li>
<p>Spacewalk 2.6 Server and Client Tools</p>
</li>
<li>
<p>Spacewalk 2.7 Server and Client Tools</p>
</li>
<li>
<p>Spacewalk 2.8 Server</p>
</li>
<li>
<p>Spacewalk nightly</p>
</li>
<li>
<p>OpenSUSE 13.2 and openSUSE 13.2 Client Tools</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_more_distributions_as_clients_2">Support for more Distributions as Clients</h5>
<div class="paragraph">
<p>openSUSE Leap 15.0, openSUSE Leap 42.3, SLE12, SLE15, CentOS6 and CentOS7 are now verified
to bootstrap as both salt minions and traditional clients.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_products_added_to_scc_syncing">New products added to SCC syncing</h5>
<div class="ulist">
<ul>
<li>
<p>SUSE OpenStack Cloud 9</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_issues">Known issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_single_sign_on_api_and_cli_tools">Single Sign On, API and CLI tools</h3>
<div class="paragraph">
<p>Single Sign On can be used to authenticate in the Web UI but not with the API or CLI tools. This will be fixed in a future release of Uyuni.</p>
</div>
</div>
<div class="sect2">
<h3 id="_epel_and_salt_packages">EPEL and Salt packages</h3>
<div class="paragraph">
<p>Using the Extra Packages for Enterprise Linux directly on RHEL clients (or compatible: SLES ES, CentOS, Oracle Linux, etc) will install the Salt packages from EPEL, which miss some features in the Uyuni-provided Salt packages. This is an unsupported scenario.</p>
</div>
<div class="paragraph">
<p>If you need to enable the EPEL repository, make sure you filter out the Salt packages from EPEL (for instance, by creating a new channel using Content Lifecycle Management).</p>
</div>
</div>
<div class="sect2">
<h3 id="_rhel_6_centos_6_and_oracle_linux_6_minimal_installations">RHEL 6, CentOS 6 and Oracle Linux 6 minimal installations</h3>
<div class="paragraph">
<p>In the case of RHEL 6, CentOS 6 and Oracle Linux 6, the "Minimal" installation set is missing some packages required for the onboarding to work. It is recommented to install at least a "Basic Server".</p>
</div>
<div class="paragraph">
<p>Alternatively, if using a minimal installation, you must install the <code>perl</code> and <code>openssh-clients</code> packages before onboarding.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rhel_native_clients">RHEL native clients</h3>
<div class="paragraph">
<p>When autogenerating bootstrap repositories for native RHEL clients, some errors may be logged from the moment the official Red Hat channels are added until the moment those channels are fully synchronized for the first time.</p>
</div>
<div class="paragraph">
<p>This does not affect SLES Expanded Support, CentOS or Oracle Linux.</p>
</div>
</div>
<div class="sect2">
<h3 id="_registering_spacewalk_2_xred_hat_satellite_5_x_clients_to_uyuni_as_salt_minions">Registering Spacewalk 2.x/Red Hat Satellite 5.x clients to Uyuni as Salt minions</h3>
<div class="paragraph">
<p>If a client machine is running the Red Hat Satellite 5.x agent, registering it to Uyuni as a Salt minion will fail due to package conflicts.</p>
</div>
<div class="paragraph">
<p>Registering a RH Satellite 5.x client as a Uyuni traditional client works fine.</p>
</div>
<div class="paragraph">
<p>Registering a Uyuni traditional client as a Uyuni Salt minion will also work.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Works</th>
<th class="tableblock halign-left valign-top">Fails</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RH Satellite 5.x &#8658; Uyuni traditional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RH Satellite 5.x &#8658; Uyuni Salt minion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uyuni traditional &#8658; Uyuni Salt minion</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In order to register Red Hat Satellite 5.x clients to Uyuni as Salt minions, you will need to modify the bootstrap script to remove the Satellite agent packages first.</p>
</div>
<div class="paragraph">
<p>Spacewalk 2.x and Oracle Spacewalk 2.x clients will show the same behavior as Red Hat Satellite 5.x clients</p>
</div>
</div>
<div class="sect2">
<h3 id="_centos">CentOS</h3>
<div class="paragraph">
<p>When mirroring CentOS AppStreams, only the most up-to-date packages can be synchronized. If a package was previously synchronized it will remain available but old versions cannot be synchronized if they never were earlier.</p>
</div>
<div class="paragraph">
<p>This will be fixed in the next Uyuni release.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_tools_notes">Client Tools Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>URLs of the Client Tools are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.* (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/openSUSE_Leap_15-Uyuni-Client-Tools/openSUSE_Leap_15.0/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/openSUSE_Leap_15-Uyuni-Client-Tools/openSUSE_Leap_15.0/</a></p>
</li>
<li>
<p>SLE12 (x86_64, pcc64le. s390x, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/SLE12-Uyuni-Client-Tools/SLE_12/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/SLE12-Uyuni-Client-Tools/SLE_12/</a></p>
</li>
<li>
<p>SLE15 (x86_64, pcc64le. s390x, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/SLE15-Uyuni-Client-Tools/SLE_15/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/SLE15-Uyuni-Client-Tools/SLE_15/</a></p>
</li>
<li>
<p>CentOS7 (x86_64, aarch64, ppc64le): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/</a></p>
</li>
<li>
<p>Oracle Linux 7 (x86_64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/</a></p>
</li>
<li>
<p>Oracle Linux 8 (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/ELS8-Uyuni-Client-Tools/EL_8/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/ELS8-Uyuni-Client-Tools/EL_8/</a></p>
</li>
<li>
<p>Amazon Linux 2 (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/</a></p>
</li>
<li>
<p>Alibaba Linux 2 (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/CentOS7-Uyuni-Client-Tools/CentOS_7/</a></p>
</li>
<li>
<p>AlmaLinux 8 (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/EL8-Uyuni-Client-Tools/EL_8/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/EL8-Uyuni-Client-Tools/EL_8/</a></p>
</li>
<li>
<p>Rocky Linux 8 (x86_64, aarch64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/EL8-Uyuni-Client-Tools/EL_8/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/EL8-Uyuni-Client-Tools/EL_8/</a></p>
</li>
<li>
<p>Ubuntu 18.04 (x86_64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Ubuntu1804-Uyuni-Client-Tools/xUbuntu_18.04/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Ubuntu1804-Uyuni-Client-Tools/xUbuntu_18.04/</a></p>
</li>
<li>
<p>Ubuntu 20.04 (x86_64): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Ubuntu2004-Uyuni-Client-Tools/xUbuntu_20.04/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Ubuntu2004-Uyuni-Client-Tools/xUbuntu_20.04/</a></p>
</li>
<li>
<p>Debian 9 (x86_64, aarch64, armv7l, i586): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian9-Uyuni-Client-Tools/Debian_9/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian9-Uyuni-Client-Tools/Debian_9/</a></p>
</li>
<li>
<p>Debian 10 (x86_64, aarch64, armv7l, i586): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian10-Uyuni-Client-Tools/Debian_10/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian10-Uyuni-Client-Tools/Debian_10/</a></p>
</li>
<li>
<p>Debian 11 (x86_64, aarch64, armv7l, i586, ppc64le, s390x): <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian11-Uyuni-Client-Tools/Debian_11/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable:/Debian11-Uyuni-Client-Tools/Debian_11/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Keep in mind you should manage the client tools using the command <code>spacewalk-common-channels</code> on the server, that will also allow you to add the required channels for all those operating systems that are freely available.</p>
</div>
<div class="sect2">
<h3 id="_supported_clients">Supported clients</h3>
<div class="paragraph">
<p>At the moment the status is the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distribution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt bootstrap from server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt SSH bootstrap from server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt bootstrap from client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traditional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">openSUSE Leap 15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLE12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLE15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CentOS7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Linux 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Linux 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amazon Linux 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alibaba Linux 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AlmaLinux 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rocky Linux 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu18.04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu20.04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-check"></i></span> = Working, <span class="icon"><i class="fa fa-times"></i></span> = Not working, <span class="icon"><i class="fa fa-question"></i></span> = Untested</p>
</div>
<div class="paragraph">
<p>With the exception of RHEL/CentOS and Oracle Linux, all maintained SPs and subversions are supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_untested_clients">Untested clients</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distribution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt bootstrap from server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt SSH bootstrap from server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salt bootstrap from client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traditional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RHEL7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RHEL8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-question"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon"><i class="fa fa-times"></i></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RHEL7 and RHEL8 are expected to work in the same way CentOS7 and CentOS8 respectively. Client Tools repositories for a CentOS version should work at the respective RHEL version.</p>
</div>
<div class="paragraph">
<p>CentOS8 (and therefore RHEL8) does not have support for the traditional client tools, only salt.</p>
</div>
</div>
<div class="sect2">
<h3 id="_known_limitations">Known limitations</h3>
<div class="sect3">
<h4 id="_spacewalkminion_script_autoinstallation_snippet_does_not_work_with_salt_bundle">"spacewalk/minion_script" Autoinstallation snippet does not work with Salt bundle</h4>
<div class="paragraph">
<p>The Autoinstallation snippet named <code>spacewalk/minion_script</code> does not support the Salt Bundle (<code>venv-salt-minion</code>) at this moment. Using this snippet is not mandatory.</p>
</div>
<div class="paragraph">
<p>If the snippet is used, the autoinstallation will not fail, but the package <code>salt-minion</code> will get installed and during the registration the Salt Bundle will not get installed.</p>
</div>
<div class="paragraph">
<p>As temporary workaround, you can either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create your own custom snippet based on <code>spacewalk/minion_script</code> but adjusting the paths and name to use <code>venv-salt-minion</code> instead.</p>
</li>
<li>
<p>Use the original snippet, register the client, and then perform the migration to the Python Bundle, as described at the documentation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_uyuni_client_tools_gpg_not_trusted_by_the_clients">Uyuni Client Tools GPG not trusted by the clients</h4>
<div class="paragraph">
<p>The GPG key for Uyuni Client Tools is not trusted by default by the respective package management tools for each OS.</p>
</div>
<div class="paragraph">
<p>The systems will bootstrap without the GPG key being trusted, but will not be able to install new
client tool packages or updated them.</p>
</div>
<div class="paragraph">
<p>This can be fixed by adding the key <code>uyuni-gpg-pubkey-0d20833e.key</code> to all the bootscrap scripts at
variable <code>ORG_GPG_KEY=</code>. If you already have other keys there, you can keep them.</p>
</div>
<div class="paragraph">
<p>For systems bootstrapped from WebUI, a salt state should be created to trust the key, then the state can be
assigned to the organization, and finally it can be used using an Activation Key and the Configuration
Channels to deploy the change to the clients.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation">Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is usable but you can still find some issues, such references to SUSE Manager that are scheduled to be fixed on subsequent versions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements">Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>OS: openSUSE Leap 15.3 x86_64, fully updated</p>
</li>
<li>
<p>Main memory: Minimum 16 GB for base installation</p>
</li>
<li>
<p>Disk space: Minimum 100 GB for root partition, Minimum 50 GB for /var/lib/pgsql, Minimum 50 GB per SUSE product + 100 GB per RHEL product (/var/spacewalk)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the Getting Started manual for more details on the system requirements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_the_server">Installing the Server</h3>
<div class="paragraph">
<p>Add the Stable repository:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>zypper ar <a href="https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable/images/repo/Uyuni-Server-POOL-x86_64-Media1/" class="bare">https://download.opensuse.org/repositories/systemsmanagement:/Uyuni:/Stable/images/repo/Uyuni-Server-POOL-x86_64-Media1/</a> uyuni-server</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Install the pattern:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>zypper in patterns-uyuni_server</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Run Yast2 and go to Network Services &gt; Uyuni Setup</p>
</div>
<div class="paragraph">
<p>Follow the setup assistant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_update_from_previous_versions_of_uyuni_server">Update from previous versions of Uyuni Server</h3>
<div class="paragraph">
<p><strong>WARNING</strong>: Make sure you check the documentation this time. Because of the change from openSUSE Leap 15.2 to openSUSE Leap 15.3, some special steps are required!
<strong>WARNING:</strong> This applies not only when updating from 2021.05, but also when updating from any version after 2020.07 (included). Updating from 2020.06 and older is not supported anymore.</p>
</div>
<div class="paragraph">
<p>See the "Upgrade Guide" for detailed instructions on how to upgrade. You will need to follow the "Upgrade the Server" &gt; "Server - Major Upgrade" section.</p>
</div>
<div class="paragraph">
<p>All connected clients will continue to run and are manageable unchanged.</p>
</div>
</div>
<div class="sect2">
<h3 id="_update_from_previous_versions_of_uyuni_proxy">Update from previous versions of Uyuni Proxy</h3>
<div class="paragraph">
<p>When updating, always start with the server first and then continue with the proxies.</p>
</div>
<div class="paragraph">
<p>See the release notes for the proxy and the "Upgrade Guide" for detailed upgrade instructions.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_information">Other information</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_red_hat_channels">Red Hat Channels</h3>
<div class="paragraph">
<p>Managing RHEL clients requires availability of appropriate Red Hat packages.</p>
</div>
</div>
<div class="sect2">
<h3 id="_suse_channels">SUSE Channels</h3>
<div class="paragraph">
<p>Managing SUSE Linux clients requires availability of appropriate SUSE channels.</p>
</div>
<div class="paragraph">
<p>Your licensed SUSE products can be used with Uyuni by following the setup Wizard.</p>
</div>
<div class="paragraph">
<p>Check the manuals for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_providing_feedback">Providing feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In case of encountering a bug please report it at <a href="https://github.com/uyuni-project/uyuni/issues" class="bare">https://github.com/uyuni-project/uyuni/issues</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_legal_notices">Legal Notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright  2018  2021 The Uyuni Project</p>
</div>
<div class="paragraph">
<p>This work is licensed under the Creative Commons Attribution-ShareAlike 3.0 License. To view a copy of this license, visit <a href="http://creativecommons.org/licenses/by-sa/3.0/es/" class="bare">http://creativecommons.org/licenses/by-sa/3.0/es/</a> or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.</p>
</div>
<div class="paragraph">
<p>For SUSE trademarks, see <a href="http://www.suse.com/company/legal/" class="bare">http://www.suse.com/company/legal/</a>. All other third-party trademarks are the property of their respective owners. Trademark symbols (,  etc.) denote trademarks of SUSE and its affiliates. Asterisks (*) denote third-party trademarks.</p>
</div>
<div class="paragraph">
<p>All information found in this document has been compiled with utmost attention to detail. However, this does not guarantee complete accuracy. Neither SUSE LLC, its affiliates, the authors nor the translators shall be held liable for possible errors or the consequences thereof.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-03-30 12:50:53 +0200
</div>
</div>
</body>
</html>